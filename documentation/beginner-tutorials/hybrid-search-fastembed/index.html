<!DOCTYPE html>

<html lang="en"><head><meta content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,minimal-ui" name="viewport"/><meta charset="utf-8"/><title>Setup Hybrid Search with FastEmbed - Solvio</title>
<link href="../../../favicon/favicon.ico" rel="icon"/><link href="https://trysolvio.com/favicon/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/><link href="../../../favicon/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/><link href="../../../favicon/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/><link href="../../../favicon/site.webmanifest" rel="manifest"/><link color="#5bbad5" href="https://trysolvio.com/favicon/safari-pinned-tab.svg" rel="mask-icon"/><meta content="#2b5797" name="msapplication-TileColor"/><meta content="/favicon/browserconfig.xml" name="msapplication-config"/><meta content="#ffffff" name="theme-color"/><meta content="solvio" name="partition"/><link href="../../../css/search/search.min.09596ee2b3c94d0ac82a1c33199cabdb3e0210b1ee46aaf1515200e9e484d05dd9e27cc1e861c58cc2e582af162f63b8e180ff2a12f7a6592b7aeaa0a7125130.css" rel="stylesheet"/><link href="../../../css/documentation.min.e6f67f5814d6056e5fc0a24dbfe9ef87a89b7a1dbbf6879b5c2a9e9f4085856b9ef4e76f1ff104a0df4f37f4ee8b5df86b04162b08534ee92b75bcb82a6c64bb.css" rel="stylesheet"/><meta content="Hugo 0.141.0" name="generator"/><meta content="Solvio is an Open-Source Vector Database and Vector Search Engine written in Rust. It provides fast and scalable vector similarity search service with convenient API." name="description"/><meta content="vector search engine,neural network,matching,SaaS,approximate nearest neighbor search,image search,recommender system,vectors,knn algorithm,hnsw,vector search,embeddings,similarity,simaes networks,BERT,transformer,word2vec,fasttext,solvio" name="keywords"/><script type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@id":"https://trysolvio.com/documentation/beginner-tutorials/hybrid-search-fastembed/#article","@type":"Article","abstract":"Build a Hybrid Search Service with FastEmbed and Solvio Time: 20 min Level: Beginner Output: GitHub This tutorial shows you how to build and deploy your own hybrid search service to look through descriptions of companies from startupslistcom and pick the most similar ones to your query The website contains the company names descriptions locations and a picture for each entryAs we have already written on our blog there is no single definition of hybrid search In this tutorial we are covering the case with a combination of dense and sparse embeddings The former ones refer to the embeddings generated by such wellknown neural networks as BERT while the latter ones are more related to a traditional fulltext search approach","author":{"@type":"Organization","name":"Solvio","url":"https://trysolvio.com/"},"dateModified":"0001-01-01 00:00:00 +0000 UTC","datePublished":"0001-01-01 00:00:00 +0000 UTC","description":"","headline":"Setup Hybrid Search with FastEmbed","image":[""],"name":"Setup Hybrid Search with FastEmbed","url":"https://trysolvio.com/documentation/beginner-tutorials/hybrid-search-fastembed/","wordCount":"1479"},{"@id":"https://trysolvio.com/documentation/beginner-tutorials/hybrid-search-fastembed/#organization","@type":"Organization","address":{"@type":"PostalAddress","addressCountry":"DE","addressLocality":"Berlin","addressRegion":"Berlin","postalCode":"10115","streetAddress":"Chausseestraße 86"},"contactPoint":{"@type":"ContactPoint","contactType":"customer support","email":"info@solvio.com","telephone":"+49 3040797694"},"description":"Solvio is an Open-Source Vector Database and Vector Search Engine written in Rust. It provides fast and scalable vector similarity search service with convenient API.","email":"info@solvio.com","founders":[{"@type":"Person","name":"map[email:info@solvio.tech name:Andrey Vasnetsov]"},{"@type":"Person","name":"Andre Zayarni"}],"foundingDate":"2021","keywords":["vector search engine","neural network","matching","SaaS","approximate nearest neighbor search","image search","recommender system","vectors","knn algorithm","hnsw","vector search","embeddings","similarity","simaes networks","BERT","transformer","word2vec","fasttext","Solvio"],"legalName":"Solvio Solutions GmbH","location":"Berlin, Germany","logo":"https://trysolvio.com/images/logo_with_text.png","name":"Solvio","sameAs":["https://github.com/solvio/solvio","https://solvio.to/discord","https://www.youtube.com/channel/UC6ftm8PwH1RU_LM1jwG0LQA","https://www.linkedin.com/company/solvio/","https://twitter.com/solvio_engine"],"url":"https://solvio.tech"}]}</script><meta content="https://trysolvio.com/documentation/beginner-tutorials/hybrid-search-fastembed/" property="og:url"/><meta content="website" property="og:type"/><meta content="Setup Hybrid Search with FastEmbed - Solvio" property="og:title"/><meta content="summary_large_image" name="twitter:card"/><meta content="solvio" name="twitter:domain"/><meta content="https://trysolvio.com/documentation/beginner-tutorials/hybrid-search-fastembed/" name="twitter:url"/><meta content="Setup Hybrid Search with FastEmbed - Solvio" name="twitter:title"/><meta content="Solvio is an Open-Source Vector Database and Vector Search Engine written in Rust. It provides fast and scalable vector similarity search service with convenient API." property="og:description"/><meta content="Solvio is an Open-Source Vector Database and Vector Search Engine written in Rust. It provides fast and scalable vector similarity search service with convenient API." name="twitter:description"/><meta content="https://trysolvio.com/images/previews/social-preview-P.png" name="image" property="og:image"/><meta content="https://trysolvio.com/images/previews/social-preview-P.png" name="image" property="og:image:secure_url"/><meta content="image/jpeg" property="og:image:type"/><meta content="1200" property="og:image:width"/><meta content="630" property="og:image:height"/><meta content="https://trysolvio.com/images/previews/social-preview-P.png" name="twitter:image:src"/><link href="index.html" rel="canonical"/><script src="https://js-eu1.hsforms.net/forms/embed/v2.js" type="text/javascript"></script><script src="../../../js/documentation.min.594fc9226f6fb87b8c3b0cafb9d5c0b0bcd95f47d292b929aab04315e0506706b2f376dc4fae9961dc3082138cb19d45b2a3370ee8e881bbf4b8c91dcb735c32.js"></script></head><body><main><header class="docs-header"><div class="main-menu z-5"><a href="https://trysolvio.com/"><div class="logo"><img alt="logo" class="logo__img" src="../../../img/solvio-logo.png"/></div></a><div class="d-flex d-xl-none justify-content-end align-items-center gap-4"><div class="d-block d-xl-none"><button class="theme-switch" role="button"></button></div><button class="main-menu__trigger" type="button"><svg fill="none" height="24" viewbox="0 0 24 24" width="24"><path d="M1 12H23" stroke="#e1e5f0" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path><path d="M1 5H23" stroke="#e1e5f0" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path><path d="M1 19H23" stroke="#e1e5f0" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg></button></div><ul class="main-menu__links"><li class="main-menu__item"><a class="menu-linkactive" href="../../index.html">Solvio</a></li><li class="main-menu__item"><a class="menu-link" href="../../cloud-intro/index.html">Cloud</a></li><li class="main-menu__item"><a class="menu-link" href="../../build/index.html">Build</a></li><li class="main-menu__item"></li><li class="main-menu__item"></li></ul><div class="main-menu__buttons"><div class="main-menu__buttons-input"><button class="qdr-search-input-btn q-input input_md input_light-bg" data-target="#searchModal" name="search" type="button">
Search</button></div><button class="theme-switch" role="button"></button>
</div></div><div class="menu-mobile"><div class="menu-mobile__header"><div class="logo"><img alt="logo" class="logo__img" src="../../../img/solvio-logo.png"/></div><div class="d-flex d-xl-none justify-content-end align-items-center gap-4"><div class="d-block d-xl-none"><button class="theme-switch" role="button"></button></div><button class="menu-mobile__close" type="button"><svg fill="none" height="24" viewbox="0 0 24 24" width="24"><g id="Close"><path clip-rule="evenodd" d="M19.778 5.63606C20.1685 5.24554 20.1685 4.61237 19.778 4.22185 19.3874 3.83132 18.7543 3.83132 18.3637 4.22185L11.9998 10.5858 5.63586 4.22185c-.39052-.39053-1.02369-.39053-1.41421.0C3.83112 4.61237 3.83112 5.24554 4.22165 5.63606L10.5856 12l-6.364 6.364C3.83108 18.7545 3.83108 19.3877 4.2216 19.7782 4.61213 20.1687 5.24529 20.1687 5.63582 19.7782l6.36398-6.364 6.364 6.364C18.7543 20.1687 19.3875 20.1687 19.778 19.7782 20.1685 19.3877 20.1685 18.7545 19.778 18.364L13.414 12l6.364-6.36394z" fill="#e1e5f0" fill-rule="evenodd" id="Vector"></path></g></svg></button></div></div><div class="main-menu__buttons-input"><button class="qdr-search-input-btn q-input input_md input_light-bg" data-target="#searchModal" name="search" type="button">
Search</button></div><ul class="menu-mobile__items"><li class="menu-mobile__item" data-path="menu-0"><div class="menu-mobile__item-content"><a class="active" href="../../index.html"><svg fill="#e1e5f0" height="16" viewbox="0 0 16 16" width="16"><g id="Menu/Documentation"><path clip-rule="evenodd" d="M4.25 1c-1.10092.0-2.12247.23681-2.88689.64443C.620129 2.04063.0 2.67297.0 3.5v11c0 .2761.223858.5.5.5s.5-.2239.5-.5c0-.278.21937-.6456.83364-.9732C2.42647 13.2107 3.27992 13 4.25 13 5.22008 13 6.07353 13.2107 6.66636 13.5268c.61427.3276.83364.6952.83364.9732.0.2761.22386.5.5.5s.5-.2239.5-.5c0-.278.21937-.6456.833640000000001-.9732C9.92647 13.2107 10.7799 13 11.75 13S13.5735 13.2107 14.1664 13.5268C14.7806 13.8544 15 14.222 15 14.5c0 .2761.2239.5.5.5s.5-.2239.5-.5V3.5C16 2.67297 15.3799 2.04063 14.6369 1.64443 13.8725 1.23681 12.8509 1 11.75 1s-2.12247.23681-2.88689.64443C8.53799 1.8178 8.2364 2.03638 8 2.29671c-.2364-.26033-.53799-.47891-.86311-.65228C6.37247 1.23681 5.35092 1 4.25 1zM1.36311 12.6444C1.23778 12.7113 1.11595 12.7848 1 12.8649V3.5c0-.27797.21937-.64563.83364-.97318C2.42647 2.21069 3.27992 2 4.25 2c.97008.0 1.82353.21069 2.41636.52682C7.28063 2.85437 7.5 3.22203 7.5 3.5v9.3649C7.38405 12.7848 7.26222 12.7113 7.13689 12.6444 6.37247 12.2368 5.35092 12 4.25 12 3.14908 12 2.12753 12.2368 1.36311 12.6444zM8.5 12.8649C8.61595 12.7848 8.73778 12.7113 8.86311 12.6444 9.62753 12.2368 10.6491 12 11.75 12S13.8725 12.2368 14.6369 12.6444C14.7622 12.7113 14.8841 12.7848 15 12.8649V3.5C15 3.22203 14.7806 2.85437 14.1664 2.52682 13.5735 2.21069 12.7201 2 11.75 2s-1.82353.21069-2.41636.52682C8.71937 2.85437 8.5 3.22203 8.5 3.5v9.3649z" fill-rule="evenodd" id="Vector"></path></g></svg>
Solvio</a></div></li><li class="menu-mobile__item" data-path="menu-1"><div class="menu-mobile__item-content"><a href="../../cloud-intro/index.html"><svg fill="#e1e5f0" height="16" viewbox="0 0 16 16" width="16"><g id="Menu/Cloud"><path clip-rule="evenodd" d="M7.5 2C4.57416 2 2.18128 4.28566 2.00983 7.16851.8403 7.57763.0 8.68965.0 10c0 1.6571 1.34286 3 3 3H13c1.6571.0 3-1.3429 3-3 0-1.65714-1.3429-3-3-3L12.9776 7.00009C12.7249 4.19714 10.3686 2 7.5 2zM3.00107 7.48137 3.00008 7.47308C3.01457 5.0006 5.02412 3 7.5 3c2.47599.0 4.4856 2.00079 4.4999 4.47342L11.9987 7.4836C11.9969 7.50027 11.995 7.52348 11.995 7.551 11.995 7.701 12.0623 7.84308 12.1785 7.93804 12.2946 8.03301 12.4472 8.07082 12.5942 8.04106 12.726 8.01438 12.8617 8 13 8c1.1049.0 2 .89514 2 2C15 11.1049 14.1049 12 13 12H3C1.89514 12 1 11.1049 1 10 1 9.03225 1.68901 8.22422 2.60364 8.04017 2.83708 7.9932 3.005 7.78812 3.005 7.55 3.005 7.52154 3.00291 7.49773 3.00107 7.48137z" fill-rule="evenodd" id="Vector"></path></g></svg>
Cloud</a></div></li><li class="menu-mobile__item" data-path="menu-2"><div class="menu-mobile__item-content"><a href="../../build/index.html"><svg fill="#e1e5f0" height="16" viewbox="0 0 16 16" width="16"><g id="Menu/Blog"><path clip-rule="evenodd" d="M0 1.5C0 1.22386.223858 1 .5 1h5c.27614.0.5.22386.5.5v5c0 .27614-.22386.5-.5.5H.5C.223858 7 0 6.77614.0 6.5v-5zM1 2V6H5V2H1zm7 .5c0-.27614.22386-.5.5-.5h7c.2761.0.5.22386.5.5s-.2239.5-.5.5h-7C8.22386 3 8 2.77614 8 2.5zM8.5 6c-.27614.0-.5.22386-.5.5s.22386.5.5.5h7c.2761.0.5-.22386.5-.5s-.2239-.5-.5-.5h-7zM0 10.5c0-.2761.223858-.5.5-.5h15c.2761.0.5.2239.5.5s-.2239.5-.5.5H.5c-.276142.0-.5-.2239-.5-.5zM.5 14c-.276142.0-.5.2239-.5.5s.223858.5.5.5h15c.2761.0.5-.2239.5-.5s-.2239-.5-.5-.5H.5z" fill-rule="evenodd" id="Union"></path></g></svg>
Build</a></div></li><li class="menu-mobile__item" data-path="menu-3"><div class="menu-mobile__item-content"></div></li><li class="menu-mobile__item" data-path="menu-4"><div class="menu-mobile__item-content"></div></li></ul><div class="docs-menu"><div class="docs-menu__content" id="sidebar"><nav class="docs-menu__links"><h3 class="docs-menu__links-title">Getting Started</h3><details class="docs-menu__links-group link-group"><summary class="docs-menu__links-group-heading"><a href="../../overview/index.html">What is Solvio?</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../../overview/vector-search/index.html">Understanding Vector Search in Solvio</a></li></ul></nav></details><div class="docs-menu__links-group"><div class="docs-menu__links-group-heading"><a href="../../quickstart/index.html">Local Quickstart</a></div></div><div class="docs-menu__links-group"><div class="docs-menu__links-group-heading"><a href="../../interfaces/index.html">API &amp; SDKs</a></div></div><div class="docs-menu__links-group"><div class="docs-menu__links-group-heading"><a href="../../web-ui/index.html">Solvio Web UI</a></div></div><h3 class="docs-menu__links-title">User Manual</h3><details class="docs-menu__links-group link-group"><summary class="docs-menu__links-group-heading"><a href="../../concepts/index.html">Concepts</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../../concepts/collections/index.html">Collections</a></li><li class="docs-menu__links-submenu-item"><a href="../../concepts/points/index.html">Points</a></li><li class="docs-menu__links-submenu-item"><a href="../../concepts/vectors/index.html">Vectors</a></li><li class="docs-menu__links-submenu-item"><a href="../../concepts/payload/index.html">Payload</a></li><li class="docs-menu__links-submenu-item"><a href="../../concepts/search/index.html">Search</a></li><li class="docs-menu__links-submenu-item"><a href="../../concepts/explore/index.html">Explore</a></li><li class="docs-menu__links-submenu-item"><a href="../../concepts/hybrid-queries/index.html">Hybrid Queries</a></li><li class="docs-menu__links-submenu-item"><a href="../../concepts/filtering/index.html">Filtering</a></li><li class="docs-menu__links-submenu-item"><a href="../../concepts/optimizer/index.html">Optimizer</a></li><li class="docs-menu__links-submenu-item"><a href="../../concepts/storage/index.html">Storage</a></li><li class="docs-menu__links-submenu-item"><a href="../../concepts/indexing/index.html">Indexing</a></li><li class="docs-menu__links-submenu-item"><a href="../../concepts/snapshots/index.html">Snapshots</a></li></ul></nav></details><details class="docs-menu__links-group link-group"><summary class="docs-menu__links-group-heading"><a href="../../guides/installation/index.html">Guides</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../../guides/installation/index.html">Installation</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/administration/index.html">Administration</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/running-with-gpu/index.html">Running with GPU</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/capacity-planning/index.html">Capacity Planning</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/optimize/index.html">Optimize Performance</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/multiple-partitions/index.html">Multitenancy</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/distributed_deployment/index.html">Distributed Deployment</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/quantization/index.html">Quantization</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/monitoring/index.html">Monitoring &amp; Telemetry</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/configuration/index.html">Configuration</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/security/index.html">Security</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/usage-statistics/index.html">Usage Statistics</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/common-errors/index.html">Troubleshooting</a></li></ul></nav></details><h3 class="docs-menu__links-title">Ecosystem</h3><details class="docs-menu__links-group link-group"><summary class="docs-menu__links-group-heading"><a href="../../fastembed/index.html">FastEmbed</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../../fastembed/fastembed-quickstart/index.html">Quickstart</a></li><li class="docs-menu__links-submenu-item"><a href="../../fastembed/fastembed-semantic-search/index.html">FastEmbed &amp; Solvio</a></li><li class="docs-menu__links-submenu-item"><a href="../../fastembed/fastembed-splade/index.html">Working with SPLADE</a></li><li class="docs-menu__links-submenu-item"><a href="../../fastembed/fastembed-colbert/index.html">Working with ColBERT</a></li><li class="docs-menu__links-submenu-item"><a href="../../fastembed/fastembed-rerankers/index.html">Reranking with FastEmbed</a></li></ul></nav></details><h3 class="docs-menu__links-title">Tutorials</h3><details class="docs-menu__links-group link-group active" open=""><summary class="docs-menu__links-group-heading"><a href="../index.html">Vector Search Basics</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../search-beginners/index.html">Semantic Search 101</a></li><li class="docs-menu__links-submenu-item"><a href="../neural-search/index.html">Build a Neural Search Service</a></li><li class="docs-menu__links-submenu-item active"><a href="index.html">Setup Hybrid Search with FastEmbed</a></li><li class="docs-menu__links-submenu-item"><a href="../retrieval-quality/index.html">Measure Search Quality</a></li></ul></nav></details><details class="docs-menu__links-group link-group"><summary class="docs-menu__links-group-heading"><a href="../../advanced-tutorials/index.html">Advanced Retrieval</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../../advanced-tutorials/reranking-hybrid-search/index.html">Reranking in Hybrid Search</a></li><li class="docs-menu__links-submenu-item"><a href="../../advanced-tutorials/code-search/index.html">Search Through Your Codebase</a></li><li class="docs-menu__links-submenu-item"><a href="../../advanced-tutorials/collaborative-filtering/index.html">Build a Recommendation System with Collaborative Filtering</a></li><li class="docs-menu__links-submenu-item"><a href="../../advanced-tutorials/pdf-retrieval-at-scale/index.html">Scaling PDF Retrieval with Solvio</a></li></ul></nav></details><details class="docs-menu__links-group link-group"><summary class="docs-menu__links-group-heading"><a href="../../database-tutorials/index.html">Using the Database</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../../database-tutorials/bulk-upload/index.html">Bulk Upload Vectors</a></li><li class="docs-menu__links-submenu-item"><a href="../../database-tutorials/create-snapshot/index.html">Create &amp; Restore Snapshots</a></li><li class="docs-menu__links-submenu-item"><a href="../../database-tutorials/large-scale-search/index.html">Large Scale Search</a></li><li class="docs-menu__links-submenu-item"><a href="../../database-tutorials/huggingface-datasets/index.html">Load a HuggingFace Dataset</a></li><li class="docs-menu__links-submenu-item"><a href="../../database-tutorials/async-api/index.html">Build With Async API</a></li></ul></nav></details><h3 class="docs-menu__links-title">Support</h3><details class="docs-menu__links-group link-group"><summary class="docs-menu__links-group-heading"><a href="../../faq/solvio-fundamentals/index.html">FAQ</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../../faq/solvio-fundamentals/index.html">Solvio Fundamentals</a></li><li class="docs-menu__links-submenu-item"><a href="../../faq/database-optimization/index.html">Database Optimization</a></li></ul></nav></details></nav></div></div></div></header><section class="docs documentation"><div class="documentation__container"><div class="d-flex flex-column flex-xl-row"><div class="docs-menu"><div class="docs-menu__content" id="sidebar"><nav class="docs-menu__links"><h3 class="docs-menu__links-title">Getting Started</h3><details class="docs-menu__links-group link-group"><summary class="docs-menu__links-group-heading"><a href="../../overview/index.html">What is Solvio?</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../../overview/vector-search/index.html">Understanding Vector Search in Solvio</a></li></ul></nav></details><div class="docs-menu__links-group"><div class="docs-menu__links-group-heading"><a href="../../quickstart/index.html">Local Quickstart</a></div></div><div class="docs-menu__links-group"><div class="docs-menu__links-group-heading"><a href="../../interfaces/index.html">API &amp; SDKs</a></div></div><div class="docs-menu__links-group"><div class="docs-menu__links-group-heading"><a href="../../web-ui/index.html">Solvio Web UI</a></div></div><h3 class="docs-menu__links-title">User Manual</h3><details class="docs-menu__links-group link-group"><summary class="docs-menu__links-group-heading"><a href="../../concepts/index.html">Concepts</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../../concepts/collections/index.html">Collections</a></li><li class="docs-menu__links-submenu-item"><a href="../../concepts/points/index.html">Points</a></li><li class="docs-menu__links-submenu-item"><a href="../../concepts/vectors/index.html">Vectors</a></li><li class="docs-menu__links-submenu-item"><a href="../../concepts/payload/index.html">Payload</a></li><li class="docs-menu__links-submenu-item"><a href="../../concepts/search/index.html">Search</a></li><li class="docs-menu__links-submenu-item"><a href="../../concepts/explore/index.html">Explore</a></li><li class="docs-menu__links-submenu-item"><a href="../../concepts/hybrid-queries/index.html">Hybrid Queries</a></li><li class="docs-menu__links-submenu-item"><a href="../../concepts/filtering/index.html">Filtering</a></li><li class="docs-menu__links-submenu-item"><a href="../../concepts/optimizer/index.html">Optimizer</a></li><li class="docs-menu__links-submenu-item"><a href="../../concepts/storage/index.html">Storage</a></li><li class="docs-menu__links-submenu-item"><a href="../../concepts/indexing/index.html">Indexing</a></li><li class="docs-menu__links-submenu-item"><a href="../../concepts/snapshots/index.html">Snapshots</a></li></ul></nav></details><details class="docs-menu__links-group link-group"><summary class="docs-menu__links-group-heading"><a href="../../guides/installation/index.html">Guides</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../../guides/installation/index.html">Installation</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/administration/index.html">Administration</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/running-with-gpu/index.html">Running with GPU</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/capacity-planning/index.html">Capacity Planning</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/optimize/index.html">Optimize Performance</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/multiple-partitions/index.html">Multitenancy</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/distributed_deployment/index.html">Distributed Deployment</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/quantization/index.html">Quantization</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/monitoring/index.html">Monitoring &amp; Telemetry</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/configuration/index.html">Configuration</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/security/index.html">Security</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/usage-statistics/index.html">Usage Statistics</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/common-errors/index.html">Troubleshooting</a></li></ul></nav></details><h3 class="docs-menu__links-title">Ecosystem</h3><details class="docs-menu__links-group link-group"><summary class="docs-menu__links-group-heading"><a href="../../fastembed/index.html">FastEmbed</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../../fastembed/fastembed-quickstart/index.html">Quickstart</a></li><li class="docs-menu__links-submenu-item"><a href="../../fastembed/fastembed-semantic-search/index.html">FastEmbed &amp; Solvio</a></li><li class="docs-menu__links-submenu-item"><a href="../../fastembed/fastembed-splade/index.html">Working with SPLADE</a></li><li class="docs-menu__links-submenu-item"><a href="../../fastembed/fastembed-colbert/index.html">Working with ColBERT</a></li><li class="docs-menu__links-submenu-item"><a href="../../fastembed/fastembed-rerankers/index.html">Reranking with FastEmbed</a></li></ul></nav></details><h3 class="docs-menu__links-title">Tutorials</h3><details class="docs-menu__links-group link-group active" open=""><summary class="docs-menu__links-group-heading"><a href="../index.html">Vector Search Basics</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../search-beginners/index.html">Semantic Search 101</a></li><li class="docs-menu__links-submenu-item"><a href="../neural-search/index.html">Build a Neural Search Service</a></li><li class="docs-menu__links-submenu-item active"><a href="index.html">Setup Hybrid Search with FastEmbed</a></li><li class="docs-menu__links-submenu-item"><a href="../retrieval-quality/index.html">Measure Search Quality</a></li></ul></nav></details><details class="docs-menu__links-group link-group"><summary class="docs-menu__links-group-heading"><a href="../../advanced-tutorials/index.html">Advanced Retrieval</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../../advanced-tutorials/reranking-hybrid-search/index.html">Reranking in Hybrid Search</a></li><li class="docs-menu__links-submenu-item"><a href="../../advanced-tutorials/code-search/index.html">Search Through Your Codebase</a></li><li class="docs-menu__links-submenu-item"><a href="../../advanced-tutorials/collaborative-filtering/index.html">Build a Recommendation System with Collaborative Filtering</a></li><li class="docs-menu__links-submenu-item"><a href="../../advanced-tutorials/pdf-retrieval-at-scale/index.html">Scaling PDF Retrieval with Solvio</a></li></ul></nav></details><details class="docs-menu__links-group link-group"><summary class="docs-menu__links-group-heading"><a href="../../database-tutorials/index.html">Using the Database</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../../database-tutorials/bulk-upload/index.html">Bulk Upload Vectors</a></li><li class="docs-menu__links-submenu-item"><a href="../../database-tutorials/create-snapshot/index.html">Create &amp; Restore Snapshots</a></li><li class="docs-menu__links-submenu-item"><a href="../../database-tutorials/large-scale-search/index.html">Large Scale Search</a></li><li class="docs-menu__links-submenu-item"><a href="../../database-tutorials/huggingface-datasets/index.html">Load a HuggingFace Dataset</a></li><li class="docs-menu__links-submenu-item"><a href="../../database-tutorials/async-api/index.html">Build With Async API</a></li></ul></nav></details><h3 class="docs-menu__links-title">Support</h3><details class="docs-menu__links-group link-group"><summary class="docs-menu__links-group-heading"><a href="../../faq/solvio-fundamentals/index.html">FAQ</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../../faq/solvio-fundamentals/index.html">Solvio Fundamentals</a></li><li class="docs-menu__links-submenu-item"><a href="../../faq/database-optimization/index.html">Database Optimization</a></li></ul></nav></details></nav></div></div><div class="documentation__content"><div class="documentation__content-wrapper"><div class="documentation__article-wrapper"><ul class="docs-breadcrumbs"><li class="docs-breadcrumbs__crumb"><a href="../../index.html">Documentation</a></li><li class="docs-breadcrumbs__crumb-separator"></li><li class="docs-breadcrumbs__crumb"><a href="../index.html">Beginner tutorials</a></li><li class="docs-breadcrumbs__crumb-separator"></li><li class="docs-breadcrumbs__crumb">Setup Hybrid Search with FastEmbed</li></ul><article class="documentation-article"><h1 id="build-a-hybrid-search-service-with-fastembed-and-solvio">Build a Hybrid Search Service with FastEmbed and Solvio</h1><div class="table-responsive"><table class="table mb-5"><thead><tr><th>Time: 20 min</th><th>Level: Beginner</th><th>Output: <a href="https://github.com/solvio/solvio_demo/" rel="noopener nofollow" target="_blank">GitHub</a></th><th></th></tr></thead><tbody></tbody></table></div><p>This tutorial shows you how to build and deploy your own hybrid search service to look through descriptions of companies from <a href="https://www.startups-list.com/" rel="noopener nofollow" target="_blank">startups-list.com</a> and pick the most similar ones to your query.
The website contains the company names, descriptions, locations, and a picture for each entry.</p><p>As we have already written on our <a href="https://trysolvio.com/articles/hybrid-search/">blog</a>, there is no single definition of hybrid search.
In this tutorial we are covering the case with a combination of dense and <a href="https://trysolvio.com/articles/sparse-vectors/">sparse embeddings</a>.
The former ones refer to the embeddings generated by such well-known neural networks as BERT, while the latter ones are more related to a traditional full-text search approach.</p><p>Our hybrid search service will use <a href="https://github.com/solvio/fastembed" rel="noopener nofollow" target="_blank">Fastembed</a> package to generate embeddings of text descriptions and <a href="https://fastapi.tiangolo.com/" rel="noopener nofollow" target="_blank">FastAPI</a> to serve the search API.
Fastembed natively integrates with Solvio client, so you can easily upload the data into Solvio and perform search queries.</p><p><img alt="Hybrid Search Schema" src="../../tutorials/hybrid-search-with-fastembed/hybrid-search-schema.png"/></p><h2 id="workflow">Workflow</h2><p>To create a hybrid search service, you will need to transform your raw data and then create a search function to manipulate it.
First, you will 1) download and prepare a sample dataset using a modified version of the BERT ML model. Then, you will 2) load the data into Solvio, 3) create a hybrid search API and 4) serve it using FastAPI.</p><p><img alt="Hybrid Search Workflow" src="../../../docs/workflow-neural-search.png"/></p><h2 id="prerequisites">Prerequisites</h2><p>To complete this tutorial, you will need:</p><ul><li>Docker - The easiest way to use Solvio is to run a pre-built Docker image.</li><li><a href="https://storage.googleapis.com/generall-shared-data/startups_demo.json" rel="noopener nofollow" target="_blank">Raw parsed data</a> from startups-list.com.</li><li>Python version &gt;=3.9</li></ul><h2 id="prepare-sample-dataset">Prepare sample dataset</h2><p>To conduct a hybrid search on startup descriptions, you must first encode the description data into vectors.
Fastembed integration into solvio client combines encoding and uploading into a single step.</p><p>It also takes care of batching and parallelization, so you don’t have to worry about it.</p><p>Let’s start by downloading the data and installing the necessary packages.</p><ol><li>First you need to download the dataset.</li></ol><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">wget https://storage.googleapis.com/generall-shared-data/startups_demo.json
</span></span></code></pre></div><h2 id="run-solvio-in-docker">Run Solvio in Docker</h2><p>Next, you need to manage all of your data using a vector engine. Solvio lets you store, update or delete created vectors. Most importantly, it lets you search for the nearest vectors via a convenient API.</p><blockquote><p><strong>Note:</strong> Before you begin, create a project directory and a virtual python environment in it.</p></blockquote><ol><li>Download the Solvio image from DockerHub.</li></ol><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker pull solvio/solvio
</span></span></code></pre></div><ol start="2"><li>Start Solvio inside of Docker.</li></ol><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run -p 6333:6333 <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>/solvio_storage:/solvio/storage <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>    solvio/solvio
</span></span></code></pre></div><p>You should see output like this</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-text" data-lang="text"><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl">[2021-02-05T00:08:51Z INFO  actix_server::builder] Starting 12 workers
</span></span><span class="line"><span class="cl">[2021-02-05T00:08:51Z INFO  actix_server::builder] Starting "actix-web-service-0.0.0.0:6333" service on 0.0.0.0:6333
</span></span></code></pre></div><p>Test the service by going to <a href="http://localhost:6333/" rel="noopener nofollow" target="_blank">http://localhost:6333/</a>. You should see the Solvio version info in your browser.</p><p>All data uploaded to Solvio is saved inside the <code>./solvio_storage</code> directory and will be persisted even if you recreate the container.</p><h2 id="upload-data-to-solvio">Upload data to Solvio</h2><ol><li>Install the official Python client to best interact with Solvio.</li></ol><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">pip install <span class="s2">"solvio-client[fastembed]&gt;=1.14.2"</span>
</span></span></code></pre></div><blockquote><p><strong>Note:</strong> This tutorial requires fastembed of version &gt;=0.6.1.</p></blockquote><p>At this point, you should have startup records in the <code>startups_demo.json</code> file and Solvio running on a local machine.</p><p>Now you need to write a script to upload all startup data and vectors into the search engine.</p><ol start="2"><li>Create a client object for Solvio.</li></ol><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># Import client library</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">solvio_client</span> <span class="kn">import</span> <span class="n">SolvioClient</span><span class="p">,</span> <span class="n">models</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">client</span> <span class="o">=</span> <span class="n">SolvioClient</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s2">"http://localhost:6333"</span><span class="p">)</span>
</span></span></code></pre></div><ol start="3"><li>Choose models to encode your data and prepare collections.</li></ol><p>In this tutorial, we will be using two pre-trained models to compute dense and sparse vectors correspondingly
The models are: <code>sentence-transformers/all-MiniLM-L6-v2</code> and <code>prithivida/Splade_PP_en_v1</code>.
As soon as the choice is made, we need to configure a collection in Solvio.</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">dense_vector_name</span> <span class="o">=</span> <span class="s2">"dense"</span>
</span></span><span class="line"><span class="cl"><span class="n">sparse_vector_name</span> <span class="o">=</span> <span class="s2">"sparse"</span>
</span></span><span class="line"><span class="cl"><span class="n">dense_model_name</span> <span class="o">=</span> <span class="s2">"sentence-transformers/all-MiniLM-L6-v2"</span>
</span></span><span class="line"><span class="cl"><span class="n">sparse_model_name</span> <span class="o">=</span> <span class="s2">"prithivida/Splade_PP_en_v1"</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="ow">not</span> <span class="n">client</span><span class="o">.</span><span class="n">collection_exists</span><span class="p">(</span><span class="s2">"startups"</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">client</span><span class="o">.</span><span class="n">create_collection</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="n">collection_name</span><span class="o">=</span><span class="s2">"startups"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">vectors_config</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">dense_vector_name</span><span class="p">:</span> <span class="n">models</span><span class="o">.</span><span class="n">VectorParams</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                <span class="n">size</span><span class="o">=</span><span class="n">client</span><span class="o">.</span><span class="n">get_embedding_size</span><span class="p">(</span><span class="n">dense_model_name</span><span class="p">),</span> 
</span></span><span class="line"><span class="cl">                <span class="n">distance</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">Distance</span><span class="o">.</span><span class="n">COSINE</span>
</span></span><span class="line"><span class="cl">            <span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>  <span class="c1"># size and distance are model dependent</span>
</span></span><span class="line"><span class="cl">        <span class="n">sparse_vectors_config</span><span class="o">=</span><span class="p">{</span><span class="n">sparse_vector_name</span><span class="p">:</span> <span class="n">models</span><span class="o">.</span><span class="n">SparseVectorParams</span><span class="p">()},</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span>
</span></span></code></pre></div><p>Solvio requires vectors to have their own names and configurations.
Parameters <code>size</code> and <code>distance</code> are mandatory, however, you can additionaly specify extended configuration for your vectors, like <code>quantization_config</code> or <code>hnsw_config</code>.</p><ol start="4"><li>Read data from the file.</li></ol><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">json</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">payload_path</span> <span class="o">=</span> <span class="s2">"startups_demo.json"</span>
</span></span><span class="line"><span class="cl"><span class="n">documents</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl"><span class="n">metadata</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">payload_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">fd</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">fd</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">obj</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">description</span> <span class="o">=</span> <span class="n">obj</span><span class="p">[</span><span class="s2">"description"</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="n">dense_document</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">description</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="n">dense_model_name</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">sparse_document</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">description</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="n">sparse_model_name</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">documents</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">dense_vector_name</span><span class="p">:</span> <span class="n">dense_document</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="n">sparse_vector_name</span><span class="p">:</span> <span class="n">sparse_document</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">metadata</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</span></span></code></pre></div><p>In this block of code, we read data from <code>startups_demo.json</code> file and split it into two list: <code>documents</code> and <code>metadata</code>.
Documents are models with descriptions of startups and model names to embed data. Metadata is payload associated with each startup, such as the name, location, and picture.
We will use <code>documents</code> to encode the data into vectors.</p><ol start="6"><li>Encode and upload data.</li></ol><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-python" data-lang="python"><span class="line"><span class="cl">    <span class="n">client</span><span class="o">.</span><span class="n">upload_collection</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="n">collection_name</span><span class="o">=</span><span class="s2">"startups"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">vectors</span><span class="o">=</span><span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">documents</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="n">payload</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">parallel</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>  <span class="c1"># Use 4 CPU cores to encode data.</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># This will spawn a model per process, which might be memory expensive</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># Make sure that your system does not use swap, and reduce the amount</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># # of processes if it does. </span>
</span></span><span class="line"><span class="cl">        <span class="c1"># Otherwise, it might significantly slow down the process.</span>
</span></span><span class="line"><span class="cl">        <span class="c1"># Requires wrapping code into if __name__ == '__main__' block</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span>
</span></span></code></pre></div><aside role="status">Vector generation process might be time-consuming. In order to save time, you can skip this step by uploading already processed data (available under the spoiler).</aside><details><summary>Upload processed data</summary><p>Download and unpack the processed data from <a href="https://storage.googleapis.com/dataset-startup-search/startup-list-com/startups_hybrid_search_processed_40k.tar.gz" rel="noopener nofollow" target="_blank">here</a> or use the following script:</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">wget https://storage.googleapis.com/dataset-startup-search/startup-list-com/startups_hybrid_search_processed_40k.tar.gz
</span></span><span class="line"><span class="cl">tar -xvf startups_hybrid_search_processed_40k.tar.gz
</span></span></code></pre></div><p>Then you can upload the data to Solvio.</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">json</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">named_vectors</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="n">vectors</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">float</span><span class="p">],</span> 
</span></span><span class="line"><span class="cl">        <span class="n">sparse_vectors</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">models</span><span class="o">.</span><span class="n">SparseVector</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">vector</span><span class="p">,</span> <span class="n">sparse_vector</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">vectors</span><span class="p">,</span> <span class="n">sparse_vectors</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="k">yield</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">dense_vector_name</span><span class="p">:</span> <span class="n">vector</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="n">sparse_vector_name</span><span class="p">:</span> <span class="n">models</span><span class="o">.</span><span class="n">SparseVector</span><span class="p">(</span><span class="o">**</span><span class="n">sparse_vector</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">"dense_vectors.npy"</span><span class="p">,</span> <span class="s2">"rb"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">vectors</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">"sparse_vectors.json"</span><span class="p">,</span> <span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">sparse_vectors</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">"payload.json"</span><span class="p">,</span> <span class="s2">"r"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">payload</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">client</span><span class="o">.</span><span class="n">upload_collection</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s2">"startups"</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">    <span class="n">vectors</span><span class="o">=</span><span class="n">named_vectors</span><span class="p">(</span><span class="n">vectors</span><span class="p">,</span> <span class="n">sparse_vectors</span><span class="p">),</span> 
</span></span><span class="line"><span class="cl">    <span class="n">payload</span><span class="o">=</span><span class="n">payload</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></div></details><p>The <code>upload_collection</code> method will encode all documents and upload them to Solvio.</p><p>The <code>parallel</code> parameter enables data-parallelism instead of built-in ONNX parallelism.</p><p>Additionally, you can specify ids for each document, if you want to use them later to update or delete documents.
If you don’t specify ids, they will be generated automatically.</p><p>You can monitor the progress of the encoding by passing tqdm progress bar to the <code>upload_collection</code> method.</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">tqdm</span> <span class="kn">import</span> <span class="n">tqdm</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">client</span><span class="o">.</span><span class="n">upload_collection</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">collection_name</span><span class="o">=</span><span class="s2">"startups"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">vectors</span><span class="o">=</span><span class="n">documents</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">payload</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">ids</span><span class="o">=</span><span class="n">tqdm</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">documents</span><span class="p">))),</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></div><h2 id="build-the-search-api">Build the search API</h2><p>Now that all the preparations are complete, let’s start building a neural search class.</p><p>In order to process incoming requests, the hybrid search class will need 3 things: 1) models to convert the query into a vector, 2) the Solvio client to perform search queries, 3) fusion function to re-rank dense and sparse search results.</p><p>Solvio supports 2 fusion functions for combining the results: <a href="https://plg.uwaterloo.ca/~gvcormac/cormacksigir09-rrf.pdf" rel="noopener nofollow" target="_blank">reciprocal rank fusion</a> and <a href="../../concepts/hybrid-queries/index.html@q=distribution+based+sc.html#:~:text=Distribution%2DBased%20Score%20Fusion" rel="noopener nofollow" target="_blank">distribution based score fusion</a></p><ol><li>Create a file named <code>hybrid_searcher.py</code> and specify the following.</li></ol><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">solvio_client</span> <span class="kn">import</span> <span class="n">SolvioClient</span><span class="p">,</span> <span class="n">models</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">HybridSearcher</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">DENSE_MODEL</span> <span class="o">=</span> <span class="s2">"sentence-transformers/all-MiniLM-L6-v2"</span>
</span></span><span class="line"><span class="cl">    <span class="n">SPARSE_MODEL</span> <span class="o">=</span> <span class="s2">"prithivida/Splade_PP_en_v1"</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">collection_name</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">collection_name</span> <span class="o">=</span> <span class="n">collection_name</span>
</span></span><span class="line"><span class="cl">        <span class="bp">self</span><span class="o">.</span><span class="n">solvio_client</span> <span class="o">=</span> <span class="n">SolvioClient</span><span class="p">()</span>
</span></span></code></pre></div><ol start="2"><li>Write the search function.</li></ol><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">search</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">search_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">solvio_client</span><span class="o">.</span><span class="n">query_points</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="n">collection_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">collection_name</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">query</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">FusionQuery</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="n">fusion</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">Fusion</span><span class="o">.</span><span class="n">RRF</span>  <span class="c1"># we are using reciprocal rank fusion here</span>
</span></span><span class="line"><span class="cl">        <span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="n">prefetch</span><span class="o">=</span><span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="n">models</span><span class="o">.</span><span class="n">Prefetch</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                <span class="n">query</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">DENSE_MODEL</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">),</span>
</span></span><span class="line"><span class="cl">            <span class="n">models</span><span class="o">.</span><span class="n">Prefetch</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                <span class="n">query</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">SPARSE_MODEL</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="n">query_filter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>  <span class="c1"># If you don't want any filters for now</span>
</span></span><span class="line"><span class="cl">        <span class="n">limit</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>  <span class="c1"># 5 the closest results</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span><span class="o">.</span><span class="n">points</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># `search_result` contains models.QueryResponse structure</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># We can access list of scored points with the corresponding similarity scores,</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># vectors (if `with_vectors` was set to `True`), and payload via `points` attribute.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># Select and return metadata</span>
</span></span><span class="line"><span class="cl">    <span class="n">metadata</span> <span class="o">=</span> <span class="p">[</span><span class="n">point</span><span class="o">.</span><span class="n">payload</span> <span class="k">for</span> <span class="n">point</span> <span class="ow">in</span> <span class="n">search_result</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">metadata</span>
</span></span></code></pre></div><ol start="3"><li>Add search filters.</li></ol><p>With Solvio it is also feasible to add some conditions to the search.
For example, if you wanted to search for startups in a certain city, the search query could look like this:</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-python" data-lang="python"><span class="line"><span class="cl">    <span class="o">...</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">city_of_interest</span> <span class="o">=</span> <span class="s2">"Berlin"</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># Define a filter for cities</span>
</span></span><span class="line"><span class="cl">    <span class="n">city_filter</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">Filter</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="n">must</span><span class="o">=</span><span class="p">[</span>
</span></span><span class="line"><span class="cl">            <span class="n">models</span><span class="o">.</span><span class="n">FieldCondition</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">                <span class="n">key</span><span class="o">=</span><span class="s2">"city"</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="k">match</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">MatchValue</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">city_of_interest</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">]</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1"># NOTE: it is not a hybrid search! It's just a dense query for simplicity</span>
</span></span><span class="line"><span class="cl">    <span class="n">search_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">solvio_client</span><span class="o">.</span><span class="n">query_points</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="n">collection_name</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">collection_name</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">query</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">text</span><span class="p">,</span> <span class="n">model</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">DENSE_MODEL</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="n">query_filter</span><span class="o">=</span><span class="n">city_filter</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">limit</span><span class="o">=</span><span class="mi">5</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span><span class="o">.</span><span class="n">points</span>
</span></span><span class="line"><span class="cl">    <span class="o">...</span>
</span></span></code></pre></div><p>You have now created a class for neural search queries. Now wrap it up into a service.</p><h2 id="deploy-the-search-with-fastapi">Deploy the search with FastAPI</h2><p>To build the service you will use the FastAPI framework.</p><ol><li>Install FastAPI.</li></ol><p>To install it, use the command</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">pip install fastapi uvicorn
</span></span></code></pre></div><ol start="2"><li>Implement the service.</li></ol><p>Create a file named <code>service.py</code> and specify the following.</p><p>The service will have only one API endpoint and will look like this:</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">fastapi</span> <span class="kn">import</span> <span class="n">FastAPI</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># The file where HybridSearcher is stored</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">hybrid_searcher</span> <span class="kn">import</span> <span class="n">HybridSearcher</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">app</span> <span class="o">=</span> <span class="n">FastAPI</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Create a neural searcher instance</span>
</span></span><span class="line"><span class="cl"><span class="n">hybrid_searcher</span> <span class="o">=</span> <span class="n">HybridSearcher</span><span class="p">(</span><span class="n">collection_name</span><span class="o">=</span><span class="s2">"startups"</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@app.get</span><span class="p">(</span><span class="s2">"/api/search"</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">search_startup</span><span class="p">(</span><span class="n">q</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">{</span><span class="s2">"result"</span><span class="p">:</span> <span class="n">hybrid_searcher</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">q</span><span class="p">)}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="kn">import</span> <span class="nn">uvicorn</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">uvicorn</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="n">host</span><span class="o">=</span><span class="s2">"0.0.0.0"</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">8000</span><span class="p">)</span>
</span></span></code></pre></div><ol start="3"><li>Run the service.</li></ol><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">python service.py
</span></span></code></pre></div><ol start="4"><li>Open your browser at <a href="http://localhost:8000/docs" rel="noopener nofollow" target="_blank">http://localhost:8000/docs</a>.</li></ol><p>You should be able to see a debug interface for your service.</p><p><img alt="FastAPI Swagger interface" src="../../../docs/fastapi_neural_search.png"/></p><p>Feel free to play around with it, make queries regarding the companies in our corpus, and check out the results.</p><p>Join our <a href="https://solvio.to/discord" rel="noopener nofollow" target="_blank">Discord community</a>, where we talk about vector search and similarity learning, publish other examples of neural networks and neural search applications.</p></article><section class="docs-feedback d-print-none"><h5 class="docs-feedback__title">Was this page useful?</h5><div class="docs-feedback__buttons"><button class="button button_outlined button_sm docs-feedback__button" id="feedback__answer_yes">
<img alt="Thumb up icon" src="../../../icons/outline/thumb-up.svg"/>
Yes
</button>
<button class="button button_outlined button_sm docs-feedback__button" id="feedback__answer_no">
<img alt="Thumb down icon" src="../../../icons/outline/thumb-down.svg"/>
No</button></div></section><section class="docs-feedback__responses d-none"><p class="docs-feedback__response docs-feedback__response_yes" id="feedback__response_yes">Thank you for your feedback! 🙏</p><p class="docs-feedback__response docs-feedback__response_no" id="feedback__response_no">We are sorry to hear that. 😔 You can <a class="text-brand-p" href="https:/github.com/solvio/landing_page/tree/master/solvio-landing/content/documentation/beginner-tutorials/hybrid-search-fastembed.md" target="_blank">edit</a> this page on GitHub, or <a class="text-brand-p" href="https://github.com/solvio/landing_page/issues/new/choose" target="_blank">create</a> a GitHub issue.</p></section><script>const buttonsSection=document.querySelector(".docs-feedback"),responsesSection=document.querySelector(".docs-feedback__responses"),yesButton=document.querySelector("#feedback__answer_yes"),noButton=document.querySelector("#feedback__answer_no"),yesResponse=document.querySelector("#feedback__response_yes"),noResponse=document.querySelector("#feedback__response_no"),toggleResponses=()=>{buttonsSection.classList.add("d-none"),responsesSection.classList.remove("d-none")};yesButton.addEventListener("click",()=>{yesResponse.classList.add("feedback__response_visible"),toggleResponses()}),noButton.addEventListener("click",()=>{noResponse.classList.add("feedback__response_visible"),toggleResponses()})</script></div><div class="table-of-contents"><p class="table-of-contents__head">On this page:</p><nav id="TableOfContents"><ul><li><a href="index.html#build-a-hybrid-search-service-with-fastembed-and-solvio">Build a Hybrid Search Service with FastEmbed and Solvio</a><ul><li><a href="index.html#workflow">Workflow</a></li><li><a href="index.html#prerequisites">Prerequisites</a></li><li><a href="index.html#prepare-sample-dataset">Prepare sample dataset</a></li><li><a href="index.html#run-solvio-in-docker">Run Solvio in Docker</a></li><li><a href="index.html#upload-data-to-solvio">Upload data to Solvio</a></li><li><a href="index.html#build-the-search-api">Build the search API</a></li><li><a href="index.html#deploy-the-search-with-fastapi">Deploy the search with FastAPI</a></li></ul></li></ul></nav></div><footer class="docs-footer w-100 py-0 pt-0 pb-4 pb-xl-0"><div class="docs-footer__cta"><h4>Ready to get started with Solvio?</h4><a class="button button_outlined button_sm" href="https://solvio.to/cloud/" target="_blank">Start Free</a></div><div class="docs-footer__bottom"><div class="docs-footer__bottom-content"><span>© 2025 Solvio.</span></div></div></footer></div></div></div></div></section></main></body><script async="" type="text/javascript">function OptanonWrapper(){const e=new CustomEvent("onetrust_loaded");document.dispatchEvent(e)}</script><script>!function(){const o="eQYi1nZE2zQSmnHuxjMRlDd2uLl65oHe";var n,s,t="analytics",e=window[t]=window[t]||[];if(!e.initialize)if(e.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{e.invoked=!0,e.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","screen","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware","register"],e.factory=function(n){return function(){if(window[t].initialized)return window[t][n].apply(window[t],arguments);var o,s=Array.prototype.slice.call(arguments);return["track","screen","alias","group","page","identify"].indexOf(n)>-1&&(o=document.querySelector("link[rel='canonical']"),s.push({__t:"bpc",c:o&&o.getAttribute("href")||void 0,p:location.pathname,u:location.href,s:location.search,t:document.title,r:document.referrer})),s.unshift(n),e.push(s),e}};for(n=0;n<e.methods.length;n++)s=e.methods[n],e[s]=e.factory(s);e.load=function(n,s){var i,o=document.createElement("script");o.type="text/javascript",o.async=!0,o.setAttribute("data-global-segment-analytics-key",t),o.src="https://evs.analytics.solvio.tech/5caWuitPgcGFN5Q7HMpTaj/vEkmzjuRSqeXGbhGAFTWex.min.js",i=document.getElementsByTagName("script")[0],i.parentNode.insertBefore(o,i),e._loadOptions=s},e._writeKey=o,e._cdn="https://evs.analytics.solvio.tech",e.SNIPPET_VERSION="5.2.0",e.load(o)}}()</script><script src="../../../js/google-setup.min.14728a3ae9bd931593645b6ddbfe801d400cd2970006e782cb67f3966654248ca962dbaf4cf371493a2d326861b3a691a99d6d8349c8b2752339ab91d3787069.js"></script><script src="../../../js/index.min.e37feda1952d752f5568e1ebc55e183629e4d361f4df09edeed70b4a4327d601161c4147bdbe4149b4a3cdc1ed43f1bf1a2f2340a421f1aa821103980dfe0bda.js"></script><script src="../../../js/search/search.min.328025828a7fa9c307213f15802ebd03c13ee7ed57de2f78c6afa8f4559c91029ddc3ff057e542aeff95f130e0a5d07867b9a83183de7ac0fa73c1ceb18d6e0d.js" type="module"></script><script src="../../../js/search/scroll.min.1d7f8fa4537bd0d17128ff206e3895d438bb6f14f60db3f4fbb3d47922ad458da372a2c793e6ce2442b65559423423d7fdc84617b1ed80893a151065ae408e37.js"></script><script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script><script src="../../../js/copy-code.min.95b03a45b2ab4b7a608ecfd4b5919c8572a5b2cd1463f52561cd10976abf3b74334f91324c0e620cb80afac46026a0b18cce6fb753d8495f74c6d478c8ca1d03.js"></script><script src="../../../js/lang-switcher.min.63da11cef09772078425b1ee56415b9c37842a9399f2ba2d2f5efbf72fb751686c410bd50e9bcd283c8231cb97c1973199d4923beef29d8b06e59d9983a6ba51.js"></script><script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0},options:{skipHtmlTags:["script","noscript","style","textarea","pre"]}},window.addEventListener("load",e=>{document.querySelectorAll("mjx-container").forEach(function(e){e.parentElement.classList+="has-jax"})})</script><script src="../../../js/vendor/anchor.min.0e138e17ebcf1c1147a7a3a81d9ac3c601622eedc479f1636470eb2552470f4e27c9a8efe6e8378995dedc1ab67029d8989536ea76f0857d45d1615ae772b8a1.js"></script><script>document.addEventListener("keydown",function(e){if((e.metaKey||e.ctrlKey)&&e.key==="k"){e.preventDefault();let t=document.querySelector('[data-target="#searchModal"]');t&&t?.click()}})</script><script>window.addEventListener("message",e=>{if(e.data.type==="hsFormCallback"&&e.data.eventName==="onFormReady"){const t=document.querySelector(`form[data-form-id="${e.data.id}"]`);if(t){const e=t.querySelector('[name="last_form_fill_url"]');e&&(e.value=window.location.href);const n=t.querySelector('[name="referrer_url"]');n&&(n.value=document.referrer)}}})</script></html>