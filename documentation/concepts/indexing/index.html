<!DOCTYPE html>

<html lang="en"><head><meta content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,minimal-ui" name="viewport"/><meta charset="utf-8"/><title>Indexing - Solvio</title>
<link href="../../../favicon/favicon.ico" rel="icon"/><link href="https://trysolvio.com/favicon/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/><link href="../../../favicon/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/><link href="../../../favicon/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/><link href="../../../favicon/site.webmanifest" rel="manifest"/><link color="#5bbad5" href="https://trysolvio.com/favicon/safari-pinned-tab.svg" rel="mask-icon"/><meta content="#2b5797" name="msapplication-TileColor"/><meta content="/favicon/browserconfig.xml" name="msapplication-config"/><meta content="#ffffff" name="theme-color"/><meta content="solvio" name="partition"/><link href="../../../css/search/search.min.09596ee2b3c94d0ac82a1c33199cabdb3e0210b1ee46aaf1515200e9e484d05dd9e27cc1e861c58cc2e582af162f63b8e180ff2a12f7a6592b7aeaa0a7125130.css" rel="stylesheet"/><link href="../../../css/documentation.min.e6f67f5814d6056e5fc0a24dbfe9ef87a89b7a1dbbf6879b5c2a9e9f4085856b9ef4e76f1ff104a0df4f37f4ee8b5df86b04162b08534ee92b75bcb82a6c64bb.css" rel="stylesheet"/><meta content="Hugo 0.141.0" name="generator"/><meta content="Solvio is an Open-Source Vector Database and Vector Search Engine written in Rust. It provides fast and scalable vector similarity search service with convenient API." name="description"/><meta content="vector search engine,neural network,matching,SaaS,approximate nearest neighbor search,image search,recommender system,vectors,knn algorithm,hnsw,vector search,embeddings,similarity,simaes networks,BERT,transformer,word2vec,fasttext,solvio" name="keywords"/><script type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@id":"https://trysolvio.com/documentation/concepts/indexing/#article","@type":"Article","abstract":"Indexing A key feature of Solvio is the effective combination of vector and traditional indexes It is essential to have this because for vector search to work effectively with filters having vector index only is not enough In simpler terms a vector index speeds up vector search and payload indexes speed up filteringThe indexes in the segments exist independently but the parameters of the indexes themselves are configured for the whole collection","author":{"@type":"Organization","name":"Solvio","url":"https://trysolvio.com/"},"dateModified":"0001-01-01 00:00:00 +0000 UTC","datePublished":"0001-01-01 00:00:00 +0000 UTC","description":"","headline":"Indexing","image":[""],"name":"Indexing","url":"https://trysolvio.com/documentation/concepts/indexing/","wordCount":"3464"},{"@id":"https://trysolvio.com/documentation/concepts/indexing/#organization","@type":"Organization","address":{"@type":"PostalAddress","addressCountry":"DE","addressLocality":"Berlin","addressRegion":"Berlin","postalCode":"10115","streetAddress":"Chausseestra√üe 86"},"contactPoint":{"@type":"ContactPoint","contactType":"customer support","email":"info@solvio.com","telephone":"+49 3040797694"},"description":"Solvio is an Open-Source Vector Database and Vector Search Engine written in Rust. It provides fast and scalable vector similarity search service with convenient API.","email":"info@solvio.com","founders":[{"@type":"Person","name":"map[email:info@solvio.tech name:Andrey Vasnetsov]"},{"@type":"Person","name":"Andre Zayarni"}],"foundingDate":"2021","keywords":["vector search engine","neural network","matching","SaaS","approximate nearest neighbor search","image search","recommender system","vectors","knn algorithm","hnsw","vector search","embeddings","similarity","simaes networks","BERT","transformer","word2vec","fasttext","Solvio"],"legalName":"Solvio Solutions GmbH","location":"Berlin, Germany","logo":"https://trysolvio.com/images/logo_with_text.png","name":"Solvio","sameAs":["https://github.com/solvio/solvio","https://solvio.to/discord","https://www.youtube.com/channel/UC6ftm8PwH1RU_LM1jwG0LQA","https://www.linkedin.com/company/solvio/","https://twitter.com/solvio_engine"],"url":"https://solvio.tech"}]}</script><meta content="https://trysolvio.com/documentation/concepts/indexing/" property="og:url"/><meta content="website" property="og:type"/><meta content="Indexing - Solvio" property="og:title"/><meta content="summary_large_image" name="twitter:card"/><meta content="solvio" name="twitter:domain"/><meta content="https://trysolvio.com/documentation/concepts/indexing/" name="twitter:url"/><meta content="Indexing - Solvio" name="twitter:title"/><meta content="Solvio is an Open-Source Vector Database and Vector Search Engine written in Rust. It provides fast and scalable vector similarity search service with convenient API." property="og:description"/><meta content="Solvio is an Open-Source Vector Database and Vector Search Engine written in Rust. It provides fast and scalable vector similarity search service with convenient API." name="twitter:description"/><meta content="https://trysolvio.com/documentation/concepts/indexing-social-preview.png" name="image" property="og:image"/><meta content="https://trysolvio.com/documentation/concepts/indexing-social-preview.png" name="image" property="og:image:secure_url"/><meta content="image/jpeg" property="og:image:type"/><meta content="1200" property="og:image:width"/><meta content="630" property="og:image:height"/><meta content="https://trysolvio.com/documentation/concepts/indexing-social-preview.png" name="twitter:image:src"/><link href="index.html" rel="canonical"/><script src="https://js-eu1.hsforms.net/forms/embed/v2.js" type="text/javascript"></script><script src="../../../js/documentation.min.594fc9226f6fb87b8c3b0cafb9d5c0b0bcd95f47d292b929aab04315e0506706b2f376dc4fae9961dc3082138cb19d45b2a3370ee8e881bbf4b8c91dcb735c32.js"></script></head><body><main><header class="docs-header"><div class="main-menu z-5"><a href="https://trysolvio.com/"><div class="logo"><img alt="logo" class="logo__img" src="../../../img/solvio-logo.png"/></div></a><div class="d-flex d-xl-none justify-content-end align-items-center gap-4"><div class="d-block d-xl-none"><button class="theme-switch" role="button"></button></div><button class="main-menu__trigger" type="button"><svg fill="none" height="24" viewbox="0 0 24 24" width="24"><path d="M1 12H23" stroke="#e1e5f0" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path><path d="M1 5H23" stroke="#e1e5f0" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path><path d="M1 19H23" stroke="#e1e5f0" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"></path></svg></button></div><ul class="main-menu__links"><li class="main-menu__item"><a class="menu-linkactive" href="../../index.html">Solvio</a></li><li class="main-menu__item"><a class="menu-link" href="../../cloud-intro/index.html">Cloud</a></li><li class="main-menu__item"><a class="menu-link" href="../../build/index.html">Build</a></li><li class="main-menu__item"></li><li class="main-menu__item"></li></ul><div class="main-menu__buttons"><div class="main-menu__buttons-input"><button class="qdr-search-input-btn q-input input_md input_light-bg" data-target="#searchModal" name="search" type="button">
Search</button></div><button class="theme-switch" role="button"></button>
</div></div><div class="menu-mobile"><div class="menu-mobile__header"><div class="logo"><img alt="logo" class="logo__img" src="../../../img/solvio-logo.png"/></div><div class="d-flex d-xl-none justify-content-end align-items-center gap-4"><div class="d-block d-xl-none"><button class="theme-switch" role="button"></button></div><button class="menu-mobile__close" type="button"><svg fill="none" height="24" viewbox="0 0 24 24" width="24"><g id="Close"><path clip-rule="evenodd" d="M19.778 5.63606C20.1685 5.24554 20.1685 4.61237 19.778 4.22185 19.3874 3.83132 18.7543 3.83132 18.3637 4.22185L11.9998 10.5858 5.63586 4.22185c-.39052-.39053-1.02369-.39053-1.41421.0C3.83112 4.61237 3.83112 5.24554 4.22165 5.63606L10.5856 12l-6.364 6.364C3.83108 18.7545 3.83108 19.3877 4.2216 19.7782 4.61213 20.1687 5.24529 20.1687 5.63582 19.7782l6.36398-6.364 6.364 6.364C18.7543 20.1687 19.3875 20.1687 19.778 19.7782 20.1685 19.3877 20.1685 18.7545 19.778 18.364L13.414 12l6.364-6.36394z" fill="#e1e5f0" fill-rule="evenodd" id="Vector"></path></g></svg></button></div></div><div class="main-menu__buttons-input"><button class="qdr-search-input-btn q-input input_md input_light-bg" data-target="#searchModal" name="search" type="button">
Search</button></div><ul class="menu-mobile__items"><li class="menu-mobile__item" data-path="menu-0"><div class="menu-mobile__item-content"><a class="active" href="../../index.html"><svg fill="#e1e5f0" height="16" viewbox="0 0 16 16" width="16"><g id="Menu/Documentation"><path clip-rule="evenodd" d="M4.25 1c-1.10092.0-2.12247.23681-2.88689.64443C.620129 2.04063.0 2.67297.0 3.5v11c0 .2761.223858.5.5.5s.5-.2239.5-.5c0-.278.21937-.6456.83364-.9732C2.42647 13.2107 3.27992 13 4.25 13 5.22008 13 6.07353 13.2107 6.66636 13.5268c.61427.3276.83364.6952.83364.9732.0.2761.22386.5.5.5s.5-.2239.5-.5c0-.278.21937-.6456.833640000000001-.9732C9.92647 13.2107 10.7799 13 11.75 13S13.5735 13.2107 14.1664 13.5268C14.7806 13.8544 15 14.222 15 14.5c0 .2761.2239.5.5.5s.5-.2239.5-.5V3.5C16 2.67297 15.3799 2.04063 14.6369 1.64443 13.8725 1.23681 12.8509 1 11.75 1s-2.12247.23681-2.88689.64443C8.53799 1.8178 8.2364 2.03638 8 2.29671c-.2364-.26033-.53799-.47891-.86311-.65228C6.37247 1.23681 5.35092 1 4.25 1zM1.36311 12.6444C1.23778 12.7113 1.11595 12.7848 1 12.8649V3.5c0-.27797.21937-.64563.83364-.97318C2.42647 2.21069 3.27992 2 4.25 2c.97008.0 1.82353.21069 2.41636.52682C7.28063 2.85437 7.5 3.22203 7.5 3.5v9.3649C7.38405 12.7848 7.26222 12.7113 7.13689 12.6444 6.37247 12.2368 5.35092 12 4.25 12 3.14908 12 2.12753 12.2368 1.36311 12.6444zM8.5 12.8649C8.61595 12.7848 8.73778 12.7113 8.86311 12.6444 9.62753 12.2368 10.6491 12 11.75 12S13.8725 12.2368 14.6369 12.6444C14.7622 12.7113 14.8841 12.7848 15 12.8649V3.5C15 3.22203 14.7806 2.85437 14.1664 2.52682 13.5735 2.21069 12.7201 2 11.75 2s-1.82353.21069-2.41636.52682C8.71937 2.85437 8.5 3.22203 8.5 3.5v9.3649z" fill-rule="evenodd" id="Vector"></path></g></svg>
Solvio</a></div></li><li class="menu-mobile__item" data-path="menu-1"><div class="menu-mobile__item-content"><a href="../../cloud-intro/index.html"><svg fill="#e1e5f0" height="16" viewbox="0 0 16 16" width="16"><g id="Menu/Cloud"><path clip-rule="evenodd" d="M7.5 2C4.57416 2 2.18128 4.28566 2.00983 7.16851.8403 7.57763.0 8.68965.0 10c0 1.6571 1.34286 3 3 3H13c1.6571.0 3-1.3429 3-3 0-1.65714-1.3429-3-3-3L12.9776 7.00009C12.7249 4.19714 10.3686 2 7.5 2zM3.00107 7.48137 3.00008 7.47308C3.01457 5.0006 5.02412 3 7.5 3c2.47599.0 4.4856 2.00079 4.4999 4.47342L11.9987 7.4836C11.9969 7.50027 11.995 7.52348 11.995 7.551 11.995 7.701 12.0623 7.84308 12.1785 7.93804 12.2946 8.03301 12.4472 8.07082 12.5942 8.04106 12.726 8.01438 12.8617 8 13 8c1.1049.0 2 .89514 2 2C15 11.1049 14.1049 12 13 12H3C1.89514 12 1 11.1049 1 10 1 9.03225 1.68901 8.22422 2.60364 8.04017 2.83708 7.9932 3.005 7.78812 3.005 7.55 3.005 7.52154 3.00291 7.49773 3.00107 7.48137z" fill-rule="evenodd" id="Vector"></path></g></svg>
Cloud</a></div></li><li class="menu-mobile__item" data-path="menu-2"><div class="menu-mobile__item-content"><a href="../../build/index.html"><svg fill="#e1e5f0" height="16" viewbox="0 0 16 16" width="16"><g id="Menu/Blog"><path clip-rule="evenodd" d="M0 1.5C0 1.22386.223858 1 .5 1h5c.27614.0.5.22386.5.5v5c0 .27614-.22386.5-.5.5H.5C.223858 7 0 6.77614.0 6.5v-5zM1 2V6H5V2H1zm7 .5c0-.27614.22386-.5.5-.5h7c.2761.0.5.22386.5.5s-.2239.5-.5.5h-7C8.22386 3 8 2.77614 8 2.5zM8.5 6c-.27614.0-.5.22386-.5.5s.22386.5.5.5h7c.2761.0.5-.22386.5-.5s-.2239-.5-.5-.5h-7zM0 10.5c0-.2761.223858-.5.5-.5h15c.2761.0.5.2239.5.5s-.2239.5-.5.5H.5c-.276142.0-.5-.2239-.5-.5zM.5 14c-.276142.0-.5.2239-.5.5s.223858.5.5.5h15c.2761.0.5-.2239.5-.5s-.2239-.5-.5-.5H.5z" fill-rule="evenodd" id="Union"></path></g></svg>
Build</a></div></li><li class="menu-mobile__item" data-path="menu-3"><div class="menu-mobile__item-content"></div></li><li class="menu-mobile__item" data-path="menu-4"><div class="menu-mobile__item-content"></div></li></ul><div class="docs-menu"><div class="docs-menu__content" id="sidebar"><nav class="docs-menu__links"><h3 class="docs-menu__links-title">Getting Started</h3><details class="docs-menu__links-group link-group"><summary class="docs-menu__links-group-heading"><a href="../../overview/index.html">What is Solvio?</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../../overview/vector-search/index.html">Understanding Vector Search in Solvio</a></li></ul></nav></details><div class="docs-menu__links-group"><div class="docs-menu__links-group-heading"><a href="../../quickstart/index.html">Local Quickstart</a></div></div><div class="docs-menu__links-group"><div class="docs-menu__links-group-heading"><a href="../../interfaces/index.html">API &amp; SDKs</a></div></div><div class="docs-menu__links-group"><div class="docs-menu__links-group-heading"><a href="../../web-ui/index.html">Solvio Web UI</a></div></div><h3 class="docs-menu__links-title">User Manual</h3><details class="docs-menu__links-group link-group active" open=""><summary class="docs-menu__links-group-heading"><a href="../index.html">Concepts</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../collections/index.html">Collections</a></li><li class="docs-menu__links-submenu-item"><a href="../points/index.html">Points</a></li><li class="docs-menu__links-submenu-item"><a href="../vectors/index.html">Vectors</a></li><li class="docs-menu__links-submenu-item"><a href="../payload/index.html">Payload</a></li><li class="docs-menu__links-submenu-item"><a href="../search/index.html">Search</a></li><li class="docs-menu__links-submenu-item"><a href="../explore/index.html">Explore</a></li><li class="docs-menu__links-submenu-item"><a href="../hybrid-queries/index.html">Hybrid Queries</a></li><li class="docs-menu__links-submenu-item"><a href="../filtering/index.html">Filtering</a></li><li class="docs-menu__links-submenu-item"><a href="../optimizer/index.html">Optimizer</a></li><li class="docs-menu__links-submenu-item"><a href="../storage/index.html">Storage</a></li><li class="docs-menu__links-submenu-item active"><a href="index.html">Indexing</a></li><li class="docs-menu__links-submenu-item"><a href="../snapshots/index.html">Snapshots</a></li></ul></nav></details><details class="docs-menu__links-group link-group"><summary class="docs-menu__links-group-heading"><a href="../../guides/installation/index.html">Guides</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../../guides/installation/index.html">Installation</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/administration/index.html">Administration</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/running-with-gpu/index.html">Running with GPU</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/capacity-planning/index.html">Capacity Planning</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/optimize/index.html">Optimize Performance</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/multiple-partitions/index.html">Multitenancy</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/distributed_deployment/index.html">Distributed Deployment</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/quantization/index.html">Quantization</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/monitoring/index.html">Monitoring &amp; Telemetry</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/configuration/index.html">Configuration</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/security/index.html">Security</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/usage-statistics/index.html">Usage Statistics</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/common-errors/index.html">Troubleshooting</a></li></ul></nav></details><h3 class="docs-menu__links-title">Ecosystem</h3><details class="docs-menu__links-group link-group"><summary class="docs-menu__links-group-heading"><a href="../../fastembed/index.html">FastEmbed</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../../fastembed/fastembed-quickstart/index.html">Quickstart</a></li><li class="docs-menu__links-submenu-item"><a href="../../fastembed/fastembed-semantic-search/index.html">FastEmbed &amp; Solvio</a></li><li class="docs-menu__links-submenu-item"><a href="../../fastembed/fastembed-splade/index.html">Working with SPLADE</a></li><li class="docs-menu__links-submenu-item"><a href="../../fastembed/fastembed-colbert/index.html">Working with ColBERT</a></li><li class="docs-menu__links-submenu-item"><a href="../../fastembed/fastembed-rerankers/index.html">Reranking with FastEmbed</a></li></ul></nav></details><h3 class="docs-menu__links-title">Tutorials</h3><details class="docs-menu__links-group link-group"><summary class="docs-menu__links-group-heading"><a href="../../beginner-tutorials/index.html">Vector Search Basics</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../../beginner-tutorials/search-beginners/index.html">Semantic Search 101</a></li><li class="docs-menu__links-submenu-item"><a href="../../beginner-tutorials/neural-search/index.html">Build a Neural Search Service</a></li><li class="docs-menu__links-submenu-item"><a href="../../beginner-tutorials/hybrid-search-fastembed/index.html">Setup Hybrid Search with FastEmbed</a></li><li class="docs-menu__links-submenu-item"><a href="../../beginner-tutorials/retrieval-quality/index.html">Measure Search Quality</a></li></ul></nav></details><details class="docs-menu__links-group link-group"><summary class="docs-menu__links-group-heading"><a href="../../advanced-tutorials/index.html">Advanced Retrieval</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../../advanced-tutorials/reranking-hybrid-search/index.html">Reranking in Hybrid Search</a></li><li class="docs-menu__links-submenu-item"><a href="../../advanced-tutorials/code-search/index.html">Search Through Your Codebase</a></li><li class="docs-menu__links-submenu-item"><a href="../../advanced-tutorials/collaborative-filtering/index.html">Build a Recommendation System with Collaborative Filtering</a></li><li class="docs-menu__links-submenu-item"><a href="../../advanced-tutorials/pdf-retrieval-at-scale/index.html">Scaling PDF Retrieval with Solvio</a></li></ul></nav></details><details class="docs-menu__links-group link-group"><summary class="docs-menu__links-group-heading"><a href="../../database-tutorials/index.html">Using the Database</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../../database-tutorials/bulk-upload/index.html">Bulk Upload Vectors</a></li><li class="docs-menu__links-submenu-item"><a href="../../database-tutorials/create-snapshot/index.html">Create &amp; Restore Snapshots</a></li><li class="docs-menu__links-submenu-item"><a href="../../database-tutorials/large-scale-search/index.html">Large Scale Search</a></li><li class="docs-menu__links-submenu-item"><a href="../../database-tutorials/huggingface-datasets/index.html">Load a HuggingFace Dataset</a></li><li class="docs-menu__links-submenu-item"><a href="../../database-tutorials/async-api/index.html">Build With Async API</a></li></ul></nav></details><h3 class="docs-menu__links-title">Support</h3><details class="docs-menu__links-group link-group"><summary class="docs-menu__links-group-heading"><a href="../../faq/solvio-fundamentals/index.html">FAQ</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../../faq/solvio-fundamentals/index.html">Solvio Fundamentals</a></li><li class="docs-menu__links-submenu-item"><a href="../../faq/database-optimization/index.html">Database Optimization</a></li></ul></nav></details></nav></div></div></div></header><section class="docs documentation"><div class="documentation__container"><div class="d-flex flex-column flex-xl-row"><div class="docs-menu"><div class="docs-menu__content" id="sidebar"><nav class="docs-menu__links"><h3 class="docs-menu__links-title">Getting Started</h3><details class="docs-menu__links-group link-group"><summary class="docs-menu__links-group-heading"><a href="../../overview/index.html">What is Solvio?</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../../overview/vector-search/index.html">Understanding Vector Search in Solvio</a></li></ul></nav></details><div class="docs-menu__links-group"><div class="docs-menu__links-group-heading"><a href="../../quickstart/index.html">Local Quickstart</a></div></div><div class="docs-menu__links-group"><div class="docs-menu__links-group-heading"><a href="../../interfaces/index.html">API &amp; SDKs</a></div></div><div class="docs-menu__links-group"><div class="docs-menu__links-group-heading"><a href="../../web-ui/index.html">Solvio Web UI</a></div></div><h3 class="docs-menu__links-title">User Manual</h3><details class="docs-menu__links-group link-group active" open=""><summary class="docs-menu__links-group-heading"><a href="../index.html">Concepts</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../collections/index.html">Collections</a></li><li class="docs-menu__links-submenu-item"><a href="../points/index.html">Points</a></li><li class="docs-menu__links-submenu-item"><a href="../vectors/index.html">Vectors</a></li><li class="docs-menu__links-submenu-item"><a href="../payload/index.html">Payload</a></li><li class="docs-menu__links-submenu-item"><a href="../search/index.html">Search</a></li><li class="docs-menu__links-submenu-item"><a href="../explore/index.html">Explore</a></li><li class="docs-menu__links-submenu-item"><a href="../hybrid-queries/index.html">Hybrid Queries</a></li><li class="docs-menu__links-submenu-item"><a href="../filtering/index.html">Filtering</a></li><li class="docs-menu__links-submenu-item"><a href="../optimizer/index.html">Optimizer</a></li><li class="docs-menu__links-submenu-item"><a href="../storage/index.html">Storage</a></li><li class="docs-menu__links-submenu-item active"><a href="index.html">Indexing</a></li><li class="docs-menu__links-submenu-item"><a href="../snapshots/index.html">Snapshots</a></li></ul></nav></details><details class="docs-menu__links-group link-group"><summary class="docs-menu__links-group-heading"><a href="../../guides/installation/index.html">Guides</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../../guides/installation/index.html">Installation</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/administration/index.html">Administration</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/running-with-gpu/index.html">Running with GPU</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/capacity-planning/index.html">Capacity Planning</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/optimize/index.html">Optimize Performance</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/multiple-partitions/index.html">Multitenancy</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/distributed_deployment/index.html">Distributed Deployment</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/quantization/index.html">Quantization</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/monitoring/index.html">Monitoring &amp; Telemetry</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/configuration/index.html">Configuration</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/security/index.html">Security</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/usage-statistics/index.html">Usage Statistics</a></li><li class="docs-menu__links-submenu-item"><a href="../../guides/common-errors/index.html">Troubleshooting</a></li></ul></nav></details><h3 class="docs-menu__links-title">Ecosystem</h3><details class="docs-menu__links-group link-group"><summary class="docs-menu__links-group-heading"><a href="../../fastembed/index.html">FastEmbed</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../../fastembed/fastembed-quickstart/index.html">Quickstart</a></li><li class="docs-menu__links-submenu-item"><a href="../../fastembed/fastembed-semantic-search/index.html">FastEmbed &amp; Solvio</a></li><li class="docs-menu__links-submenu-item"><a href="../../fastembed/fastembed-splade/index.html">Working with SPLADE</a></li><li class="docs-menu__links-submenu-item"><a href="../../fastembed/fastembed-colbert/index.html">Working with ColBERT</a></li><li class="docs-menu__links-submenu-item"><a href="../../fastembed/fastembed-rerankers/index.html">Reranking with FastEmbed</a></li></ul></nav></details><h3 class="docs-menu__links-title">Tutorials</h3><details class="docs-menu__links-group link-group"><summary class="docs-menu__links-group-heading"><a href="../../beginner-tutorials/index.html">Vector Search Basics</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../../beginner-tutorials/search-beginners/index.html">Semantic Search 101</a></li><li class="docs-menu__links-submenu-item"><a href="../../beginner-tutorials/neural-search/index.html">Build a Neural Search Service</a></li><li class="docs-menu__links-submenu-item"><a href="../../beginner-tutorials/hybrid-search-fastembed/index.html">Setup Hybrid Search with FastEmbed</a></li><li class="docs-menu__links-submenu-item"><a href="../../beginner-tutorials/retrieval-quality/index.html">Measure Search Quality</a></li></ul></nav></details><details class="docs-menu__links-group link-group"><summary class="docs-menu__links-group-heading"><a href="../../advanced-tutorials/index.html">Advanced Retrieval</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../../advanced-tutorials/reranking-hybrid-search/index.html">Reranking in Hybrid Search</a></li><li class="docs-menu__links-submenu-item"><a href="../../advanced-tutorials/code-search/index.html">Search Through Your Codebase</a></li><li class="docs-menu__links-submenu-item"><a href="../../advanced-tutorials/collaborative-filtering/index.html">Build a Recommendation System with Collaborative Filtering</a></li><li class="docs-menu__links-submenu-item"><a href="../../advanced-tutorials/pdf-retrieval-at-scale/index.html">Scaling PDF Retrieval with Solvio</a></li></ul></nav></details><details class="docs-menu__links-group link-group"><summary class="docs-menu__links-group-heading"><a href="../../database-tutorials/index.html">Using the Database</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../../database-tutorials/bulk-upload/index.html">Bulk Upload Vectors</a></li><li class="docs-menu__links-submenu-item"><a href="../../database-tutorials/create-snapshot/index.html">Create &amp; Restore Snapshots</a></li><li class="docs-menu__links-submenu-item"><a href="../../database-tutorials/large-scale-search/index.html">Large Scale Search</a></li><li class="docs-menu__links-submenu-item"><a href="../../database-tutorials/huggingface-datasets/index.html">Load a HuggingFace Dataset</a></li><li class="docs-menu__links-submenu-item"><a href="../../database-tutorials/async-api/index.html">Build With Async API</a></li></ul></nav></details><h3 class="docs-menu__links-title">Support</h3><details class="docs-menu__links-group link-group"><summary class="docs-menu__links-group-heading"><a href="../../faq/solvio-fundamentals/index.html">FAQ</a></summary><nav><ul class="docs-menu__links-submenu"><li class="docs-menu__links-submenu-item"><a href="../../faq/solvio-fundamentals/index.html">Solvio Fundamentals</a></li><li class="docs-menu__links-submenu-item"><a href="../../faq/database-optimization/index.html">Database Optimization</a></li></ul></nav></details></nav></div></div><div class="documentation__content"><div class="documentation__content-wrapper"><div class="documentation__article-wrapper"><ul class="docs-breadcrumbs"><li class="docs-breadcrumbs__crumb"><a href="../../index.html">Documentation</a></li><li class="docs-breadcrumbs__crumb-separator"></li><li class="docs-breadcrumbs__crumb"><a href="../index.html">Concepts</a></li><li class="docs-breadcrumbs__crumb-separator"></li><li class="docs-breadcrumbs__crumb">Indexing</li></ul><article class="documentation-article"><h1 id="indexing">Indexing</h1><p>A key feature of Solvio is the effective combination of vector and traditional indexes. It is essential to have this because for vector search to work effectively with filters, having vector index only is not enough. In simpler terms, a vector index speeds up vector search, and payload indexes speed up filtering.</p><p>The indexes in the segments exist independently, but the parameters of the indexes themselves are configured for the whole collection.</p><p>Not all segments automatically have indexes.
Their necessity is determined by the <a href="../optimizer/index.html">optimizer</a> settings and depends, as a rule, on the number of stored points.</p><h2 id="payload-index">Payload Index</h2><p>Payload index in Solvio is similar to the index in conventional document-oriented databases.
This index is built for a specific field and type, and is used for quick point requests by the corresponding filtering condition.</p><p>The index is also used to accurately estimate the filter cardinality, which helps the <a href="../search/index.html#query-planning">query planning</a> choose a search strategy.</p><p>Creating an index requires additional computational resources and memory, so choosing fields to be indexed is essential. Solvio does not make this choice but grants it to the user.</p><p>To mark a field as indexable, you can use the following:</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="err">PUT /collections/{collection_name}/index
</span></span></span><span class="line"><span class="cl"><span class="err">{
</span></span></span><span class="line"><span class="cl"><span class="err">    "field_name": "name_of_the_field_to_index",
</span></span></span><span class="line"><span class="cl"><span class="err">    "field_schema": "keyword"
</span></span></span><span class="line"><span class="cl"><span class="err">}
</span></span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">client</span><span class="o">.</span><span class="n">create_payload_index</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">collection_name</span><span class="o">=</span><span class="s2">"</span><span class="si">{collection_name}</span><span class="s2">"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">field_name</span><span class="o">=</span><span class="s2">"name_of_the_field_to_index"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">field_schema</span><span class="o">=</span><span class="s2">"keyword"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="nx">client</span><span class="p">.</span><span class="nx">createPayloadIndex</span><span class="p">(</span><span class="s2">"{collection_name}"</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">field_name</span><span class="o">:</span> <span class="s2">"name_of_the_field_to_index"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">field_schema</span><span class="o">:</span> <span class="s2">"keyword"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="k">use</span><span class="w"> </span><span class="n">solvio_client</span>::<span class="n">solvio</span>::<span class="p">{</span><span class="n">CreateFieldIndexCollectionBuilder</span><span class="p">,</span><span class="w"> </span><span class="n">FieldType</span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">client</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="n">create_field_index</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">CreateFieldIndexCollectionBuilder</span>::<span class="n">new</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="s">"{collection_name}"</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="s">"name_of_the_field_to_index"</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">FieldType</span>::<span class="n">Keyword</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">.</span><span class="n">wait</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="k">await</span><span class="o">?</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.grpc.Collections.PayloadSchemaType</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">client</span><span class="p">.</span><span class="na">createPayloadIndexAsync</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="s">"{collection_name}"</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="s">"name_of_the_field_to_index"</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">PayloadSchemaType</span><span class="p">.</span><span class="na">Keyword</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kc">null</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kc">true</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kc">null</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kc">null</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">Solvio.Client</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SolvioClient</span><span class="p">(</span><span class="s">"localhost"</span><span class="p">,</span> <span class="m">6334</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">await</span> <span class="n">client</span><span class="p">.</span><span class="n">CreatePayloadIndexAsync</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">collectionName</span><span class="p">:</span> <span class="s">"{collection_name}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">fieldName</span><span class="p">:</span> <span class="s">"name_of_the_field_to_index"</span>
</span></span><span class="line"><span class="cl"><span class="p">);</span>
</span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s">"context"</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="s">"github.com/solvio/go-client/solvio"</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">client</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">solvio</span><span class="p">.</span><span class="nf">NewClient</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">solvio</span><span class="p">.</span><span class="nx">Config</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Host</span><span class="p">:</span> <span class="s">"localhost"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Port</span><span class="p">:</span> <span class="mi">6334</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">client</span><span class="p">.</span><span class="nf">CreateFieldIndex</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nf">Background</span><span class="p">(),</span> <span class="o">&amp;</span><span class="nx">solvio</span><span class="p">.</span><span class="nx">CreateFieldIndexCollection</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">CollectionName</span><span class="p">:</span> <span class="s">"{collection_name}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">FieldName</span><span class="p">:</span>      <span class="s">"name_of_the_field_to_index"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">FieldType</span><span class="p">:</span>      <span class="nx">solvio</span><span class="p">.</span><span class="nx">FieldType_FieldTypeKeyword</span><span class="p">.</span><span class="nf">Enum</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></div><p>You can use dot notation to specify a nested field for indexing. Similar to specifying <a href="../filtering/index.html#nested-key">nested filters</a>.</p><p>Available field types are:</p><ul><li><code>keyword</code> - for <a href="../payload/index.html#keyword">keyword</a> payload, affects <a href="../filtering/index.html#match">Match</a> filtering conditions.</li><li><code>integer</code> - for <a href="../payload/index.html#integer">integer</a> payload, affects <a href="../filtering/index.html#match">Match</a> and <a href="../filtering/index.html#range">Range</a> filtering conditions.</li><li><code>float</code> - for <a href="../payload/index.html#float">float</a> payload, affects <a href="../filtering/index.html#range">Range</a> filtering conditions.</li><li><code>bool</code> - for <a href="../payload/index.html#bool">bool</a> payload, affects <a href="../filtering/index.html#match">Match</a> filtering conditions (available as of v1.4.0).</li><li><code>geo</code> - for <a href="../payload/index.html#geo">geo</a> payload, affects <a href="../filtering/index.html#geo-bounding-box">Geo Bounding Box</a> and <a href="../filtering/index.html#geo-radius">Geo Radius</a> filtering conditions.</li><li><code>datetime</code> - for <a href="../payload/index.html#datetime">datetime</a> payload, affects <a href="../filtering/index.html#range">Range</a> filtering conditions (available as of v1.8.0).</li><li><code>text</code> - a special kind of index, available for <a href="../payload/index.html#keyword">keyword</a> / string payloads, affects <a href="../filtering/index.html#full-text-match">Full Text search</a> filtering conditions.</li><li><code>uuid</code> - a special type of index, similar to <code>keyword</code>, but optimized for <a href="../payload/index.html#uuid">UUID values</a>.
Affects <a href="../filtering/index.html#match">Match</a> filtering conditions. (available as of v1.11.0)</li></ul><p>Payload index may occupy some additional memory, so it is recommended to only use index for those fields that are used in filtering conditions.
If you need to filter by many fields and the memory limits does not allow to index all of them, it is recommended to choose the field that limits the search result the most.
As a rule, the more different values a payload value has, the more efficiently the index will be used.</p><h3 id="full-text-index">Full-text index</h3><p><em>Available as of v0.10.0</em></p><p>Solvio supports full-text search for string payload.
Full-text index allows you to filter points by the presence of a word or a phrase in the payload field.</p><p>Full-text index configuration is a bit more complex than other indexes, as you can specify the tokenization parameters.
Tokenization is the process of splitting a string into tokens, which are then indexed in the inverted index.</p><p>To create a full-text index, you can use the following:</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="err">PUT /collections/{collection_name}/index
</span></span></span><span class="line"><span class="cl"><span class="err">{
</span></span></span><span class="line"><span class="cl"><span class="err">    "field_name": "name_of_the_field_to_index",
</span></span></span><span class="line"><span class="cl"><span class="err">    "field_schema": {
</span></span></span><span class="line"><span class="cl"><span class="err">        "type": "text",
</span></span></span><span class="line"><span class="cl"><span class="err">        "tokenizer": "word",
</span></span></span><span class="line"><span class="cl"><span class="err">        "min_token_len": 2,
</span></span></span><span class="line"><span class="cl"><span class="err">        "max_token_len": 20,
</span></span></span><span class="line"><span class="cl"><span class="err">        "lowercase": true
</span></span></span><span class="line"><span class="cl"><span class="err">    }
</span></span></span><span class="line"><span class="cl"><span class="err">}
</span></span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">solvio_client</span> <span class="kn">import</span> <span class="n">SolvioClient</span><span class="p">,</span> <span class="n">models</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">client</span> <span class="o">=</span> <span class="n">SolvioClient</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s2">"http://localhost:6333"</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">client</span><span class="o">.</span><span class="n">create_payload_index</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">collection_name</span><span class="o">=</span><span class="s2">"</span><span class="si">{collection_name}</span><span class="s2">"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">field_name</span><span class="o">=</span><span class="s2">"name_of_the_field_to_index"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">field_schema</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">TextIndexParams</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="nb">type</span><span class="o">=</span><span class="s2">"text"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">tokenizer</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">TokenizerType</span><span class="o">.</span><span class="n">WORD</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">min_token_len</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">max_token_len</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">lowercase</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">),</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">SolvioClient</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">"@solvio/js-client-rest"</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SolvioClient</span><span class="p">({</span> <span class="nx">host</span><span class="o">:</span> <span class="s2">"localhost"</span><span class="p">,</span> <span class="nx">port</span>: <span class="kt">6333</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">client</span><span class="p">.</span><span class="nx">createPayloadIndex</span><span class="p">(</span><span class="s2">"{collection_name}"</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">field_name</span><span class="o">:</span> <span class="s2">"name_of_the_field_to_index"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">field_schema</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">type</span><span class="o">:</span> <span class="s2">"text"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">tokenizer</span><span class="o">:</span> <span class="s2">"word"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">min_token_len</span>: <span class="kt">2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">max_token_len</span>: <span class="kt">15</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">lowercase</span>: <span class="kt">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="k">use</span><span class="w"> </span><span class="n">solvio_client</span>::<span class="n">solvio</span>::<span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">payload_index_params</span>::<span class="n">IndexParams</span><span class="p">,</span><span class="w"> </span><span class="n">CreateFieldIndexCollectionBuilder</span><span class="p">,</span><span class="w"> </span><span class="n">FieldType</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">PayloadIndexParams</span><span class="p">,</span><span class="w"> </span><span class="n">TextIndexParams</span><span class="p">,</span><span class="w"> </span><span class="n">TokenizerType</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">use</span><span class="w"> </span><span class="n">solvio_client</span>::<span class="n">Solvio</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">let</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Solvio</span>::<span class="n">from_url</span><span class="p">(</span><span class="s">"http://localhost:6334"</span><span class="p">).</span><span class="n">build</span><span class="p">()</span><span class="o">?</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">client</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="n">create_field_index</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">CreateFieldIndexCollectionBuilder</span>::<span class="n">new</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="s">"{collection_name}"</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="s">"name_of_the_field_to_index"</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">FieldType</span>::<span class="n">Text</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">.</span><span class="n">field_index_params</span><span class="p">(</span><span class="n">PayloadIndexParams</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">index_params</span>: <span class="nb">Some</span><span class="p">(</span><span class="n">IndexParams</span>::<span class="n">TextIndexParams</span><span class="p">(</span><span class="n">TextIndexParams</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">tokenizer</span>: <span class="nc">TokenizerType</span>::<span class="n">Word</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">min_token_len</span>: <span class="nb">Some</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">max_token_len</span>: <span class="nb">Some</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">lowercase</span>: <span class="nb">Some</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">})),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="k">await</span><span class="o">?</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.SolvioClient</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.SolvioGrpcClient</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.grpc.Collections.PayloadIndexParams</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.grpc.Collections.PayloadSchemaType</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.grpc.Collections.TextIndexParams</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.grpc.Collections.TokenizerType</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">SolvioClient</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">SolvioClient</span><span class="p">(</span><span class="n">SolvioGrpcClient</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">(</span><span class="s">"localhost"</span><span class="p">,</span><span class="w"> </span><span class="n">6334</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">).</span><span class="na">build</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">client</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="na">createPayloadIndexAsync</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="s">"{collection_name}"</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="s">"name_of_the_field_to_index"</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">PayloadSchemaType</span><span class="p">.</span><span class="na">Text</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">PayloadIndexParams</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">.</span><span class="na">setTextIndexParams</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">TextIndexParams</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="p">.</span><span class="na">setTokenizer</span><span class="p">(</span><span class="n">TokenizerType</span><span class="p">.</span><span class="na">Word</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="p">.</span><span class="na">setMinTokenLen</span><span class="p">(</span><span class="n">2</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="p">.</span><span class="na">setMaxTokenLen</span><span class="p">(</span><span class="n">10</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="p">.</span><span class="na">setLowercase</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="p">.</span><span class="na">build</span><span class="p">())</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">.</span><span class="na">build</span><span class="p">(),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kc">null</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kc">null</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kc">null</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="na">get</span><span class="p">();</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">Solvio.Client</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">Solvio.Client.Grpc</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SolvioClient</span><span class="p">(</span><span class="s">"localhost"</span><span class="p">,</span> <span class="m">6334</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">await</span> <span class="n">client</span><span class="p">.</span><span class="n">CreatePayloadIndexAsync</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="n">collectionName</span><span class="p">:</span> <span class="s">"{collection_name}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="n">fieldName</span><span class="p">:</span> <span class="s">"name_of_the_field_to_index"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="n">schemaType</span><span class="p">:</span> <span class="n">PayloadSchemaType</span><span class="p">.</span><span class="n">Text</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="n">indexParams</span><span class="p">:</span> <span class="k">new</span> <span class="n">PayloadIndexParams</span>
</span></span><span class="line"><span class="cl">	<span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="n">TextIndexParams</span> <span class="p">=</span> <span class="k">new</span> <span class="n">TextIndexParams</span>
</span></span><span class="line"><span class="cl">		<span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="n">Tokenizer</span> <span class="p">=</span> <span class="n">TokenizerType</span><span class="p">.</span><span class="n">Word</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">			<span class="n">MinTokenLen</span> <span class="p">=</span> <span class="m">2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">			<span class="n">MaxTokenLen</span> <span class="p">=</span> <span class="m">10</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">			<span class="n">Lowercase</span> <span class="p">=</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">		<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">);</span>
</span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">"context"</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="s">"github.com/solvio/go-client/solvio"</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">client</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">solvio</span><span class="p">.</span><span class="nf">NewClient</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">solvio</span><span class="p">.</span><span class="nx">Config</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Host</span><span class="p">:</span> <span class="s">"localhost"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Port</span><span class="p">:</span> <span class="mi">6334</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">client</span><span class="p">.</span><span class="nf">CreateFieldIndex</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nf">Background</span><span class="p">(),</span> <span class="o">&amp;</span><span class="nx">solvio</span><span class="p">.</span><span class="nx">CreateFieldIndexCollection</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">CollectionName</span><span class="p">:</span> <span class="s">"{collection_name}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="nx">FieldName</span><span class="p">:</span>      <span class="s">"name_of_the_field_to_index"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="nx">FieldType</span><span class="p">:</span>      <span class="nx">solvio</span><span class="p">.</span><span class="nx">FieldType_FieldTypeText</span><span class="p">.</span><span class="nf">Enum</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">	<span class="nx">FieldIndexParams</span><span class="p">:</span> <span class="nx">solvio</span><span class="p">.</span><span class="nf">NewPayloadIndexParamsText</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">		<span class="o">&amp;</span><span class="nx">solvio</span><span class="p">.</span><span class="nx">TextIndexParams</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">Tokenizer</span><span class="p">:</span>   <span class="nx">solvio</span><span class="p">.</span><span class="nx">TokenizerType_Whitespace</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">			<span class="nx">MinTokenLen</span><span class="p">:</span> <span class="nx">solvio</span><span class="p">.</span><span class="nf">PtrOf</span><span class="p">(</span><span class="nb">uint64</span><span class="p">(</span><span class="mi">2</span><span class="p">)),</span>
</span></span><span class="line"><span class="cl">			<span class="nx">MaxTokenLen</span><span class="p">:</span> <span class="nx">solvio</span><span class="p">.</span><span class="nf">PtrOf</span><span class="p">(</span><span class="nb">uint64</span><span class="p">(</span><span class="mi">10</span><span class="p">)),</span>
</span></span><span class="line"><span class="cl">			<span class="nx">Lowercase</span><span class="p">:</span>   <span class="nx">solvio</span><span class="p">.</span><span class="nf">PtrOf</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">		<span class="p">}),</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></div><p>Available tokenizers are:</p><ul><li><code>word</code> - splits the string into words, separated by spaces, punctuation marks, and special characters.</li><li><code>whitespace</code> - splits the string into words, separated by spaces.</li><li><code>prefix</code> - splits the string into words, separated by spaces, punctuation marks, and special characters, and then creates a prefix index for each word. For example: <code>hello</code> will be indexed as <code>h</code>, <code>he</code>, <code>hel</code>, <code>hell</code>, <code>hello</code>.</li><li><code>multilingual</code> - special type of tokenizer based on <a href="https://github.com/meilisearch/charabia" rel="noopener nofollow" target="_blank">charabia</a> package. It allows proper tokenization and lemmatization for multiple languages, including those with non-latin alphabets and non-space delimiters. See <a href="https://github.com/meilisearch/charabia" rel="noopener nofollow" target="_blank">charabia documentation</a> for full list of supported languages supported normalization options. In the default build configuration, solvio does not include support for all languages, due to the increasing size of the resulting binary. Chinese, Japanese and Korean languages are not enabled by default, but can be enabled by building solvio from source with <code>--features multiling-chinese,multiling-japanese,multiling-korean</code> flags.</li></ul><p>See <a href="../filtering/index.html#full-text-match">Full Text match</a> for examples of querying with full-text index.</p><h3 id="parameterized-index">Parameterized index</h3><p><em>Available as of v1.8.0</em></p><p>We‚Äôve added a parameterized variant to the <code>integer</code> index, which allows
you to fine-tune indexing and search performance.</p><p>Both the regular and parameterized <code>integer</code> indexes use the following flags:</p><ul><li><code>lookup</code>: enables support for direct lookup using
<a href="../filtering/index.html#match">Match</a> filters.</li><li><code>range</code>: enables support for
<a href="../filtering/index.html#range">Range</a> filters.</li></ul><p>The regular <code>integer</code> index assumes both <code>lookup</code> and <code>range</code> are <code>true</code>. In
contrast, to configure a parameterized index, you would set only one of these
filters to <code>true</code>:</p><div class="table-responsive"><table class="table mb-5"><thead><tr><th><code>lookup</code></th><th><code>range</code></th><th>Result</th></tr></thead><tbody><tr><td><code>true</code></td><td><code>true</code></td><td>Regular integer index</td></tr><tr><td><code>true</code></td><td><code>false</code></td><td>Parameterized integer index</td></tr><tr><td><code>false</code></td><td><code>true</code></td><td>Parameterized integer index</td></tr><tr><td><code>false</code></td><td><code>false</code></td><td>No integer index</td></tr></tbody></table></div><p>The parameterized index can enhance performance in collections with millions
of points. We encourage you to try it out. If it does not enhance performance
in your use case, you can always restore the regular <code>integer</code> index.</p><p>Note: If you set <code>"lookup": true</code> with a range filter, that may lead to
significant performance issues.</p><p>For example, the following code sets up a parameterized integer index which
supports only range filters:</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="err">PUT /collections/{collection_name}/index
</span></span></span><span class="line"><span class="cl"><span class="err">{
</span></span></span><span class="line"><span class="cl"><span class="err">    "field_name": "name_of_the_field_to_index",
</span></span></span><span class="line"><span class="cl"><span class="err">    "field_schema": {
</span></span></span><span class="line"><span class="cl"><span class="err">        "type": "integer",
</span></span></span><span class="line"><span class="cl"><span class="err">        "lookup": false,
</span></span></span><span class="line"><span class="cl"><span class="err">        "range": true
</span></span></span><span class="line"><span class="cl"><span class="err">    }
</span></span></span><span class="line"><span class="cl"><span class="err">}
</span></span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">solvio_client</span> <span class="kn">import</span> <span class="n">SolvioClient</span><span class="p">,</span> <span class="n">models</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">client</span> <span class="o">=</span> <span class="n">SolvioClient</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s2">"http://localhost:6333"</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">client</span><span class="o">.</span><span class="n">create_payload_index</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">collection_name</span><span class="o">=</span><span class="s2">"</span><span class="si">{collection_name}</span><span class="s2">"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">field_name</span><span class="o">=</span><span class="s2">"name_of_the_field_to_index"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">field_schema</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">IntegerIndexParams</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="nb">type</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">IntegerIndexType</span><span class="o">.</span><span class="n">INTEGER</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">lookup</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="nb">range</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">),</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">SolvioClient</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">"@solvio/js-client-rest"</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SolvioClient</span><span class="p">({</span> <span class="nx">host</span><span class="o">:</span> <span class="s2">"localhost"</span><span class="p">,</span> <span class="nx">port</span>: <span class="kt">6333</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">client</span><span class="p">.</span><span class="nx">createPayloadIndex</span><span class="p">(</span><span class="s2">"{collection_name}"</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">field_name</span><span class="o">:</span> <span class="s2">"name_of_the_field_to_index"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">field_schema</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">type</span><span class="o">:</span> <span class="s2">"integer"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">lookup</span>: <span class="kt">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">range</span>: <span class="kt">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="k">use</span><span class="w"> </span><span class="n">solvio_client</span>::<span class="n">solvio</span>::<span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">payload_index_params</span>::<span class="n">IndexParams</span><span class="p">,</span><span class="w"> </span><span class="n">CreateFieldIndexCollectionBuilder</span><span class="p">,</span><span class="w"> </span><span class="n">FieldType</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">IntegerIndexParams</span><span class="p">,</span><span class="w"> </span><span class="n">PayloadIndexParams</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">use</span><span class="w"> </span><span class="n">solvio_client</span>::<span class="n">Solvio</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">let</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Solvio</span>::<span class="n">from_url</span><span class="p">(</span><span class="s">"http://localhost:6334"</span><span class="p">).</span><span class="n">build</span><span class="p">()</span><span class="o">?</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">client</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="n">create_field_index</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">CreateFieldIndexCollectionBuilder</span>::<span class="n">new</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="s">"{collection_name}"</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="s">"name_of_the_field_to_index"</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">FieldType</span>::<span class="n">Integer</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">.</span><span class="n">field_index_params</span><span class="p">(</span><span class="n">PayloadIndexParams</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">index_params</span>: <span class="nb">Some</span><span class="p">(</span><span class="n">IndexParams</span>::<span class="n">IntegerIndexParams</span><span class="p">(</span><span class="n">IntegerIndexParams</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">lookup</span>: <span class="nc">false</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">range</span>: <span class="nc">true</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">})),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="k">await</span><span class="o">?</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.SolvioClient</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.SolvioGrpcClient</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.grpc.Collections.IntegerIndexParams</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.grpc.Collections.PayloadIndexParams</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.grpc.Collections.PayloadSchemaType</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">SolvioClient</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">SolvioClient</span><span class="p">(</span><span class="n">SolvioGrpcClient</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">(</span><span class="s">"localhost"</span><span class="p">,</span><span class="w"> </span><span class="n">6334</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">).</span><span class="na">build</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">client</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="na">createPayloadIndexAsync</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="s">"{collection_name}"</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="s">"name_of_the_field_to_index"</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">PayloadSchemaType</span><span class="p">.</span><span class="na">Integer</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">PayloadIndexParams</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">.</span><span class="na">setIntegerIndexParams</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">IntegerIndexParams</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">().</span><span class="na">setLookup</span><span class="p">(</span><span class="kc">false</span><span class="p">).</span><span class="na">setRange</span><span class="p">(</span><span class="kc">true</span><span class="p">).</span><span class="na">build</span><span class="p">())</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">.</span><span class="na">build</span><span class="p">(),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kc">null</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kc">null</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kc">null</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="na">get</span><span class="p">();</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">Solvio.Client</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">Solvio.Client.Grpc</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SolvioClient</span><span class="p">(</span><span class="s">"localhost"</span><span class="p">,</span> <span class="m">6334</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">await</span> <span class="n">client</span><span class="p">.</span><span class="n">CreatePayloadIndexAsync</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">collectionName</span><span class="p">:</span> <span class="s">"{collection_name}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">fieldName</span><span class="p">:</span> <span class="s">"name_of_the_field_to_index"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">schemaType</span><span class="p">:</span> <span class="n">PayloadSchemaType</span><span class="p">.</span><span class="n">Integer</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">indexParams</span><span class="p">:</span> <span class="k">new</span> <span class="n">PayloadIndexParams</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">	    <span class="n">IntegerIndexParams</span> <span class="p">=</span> <span class="k">new</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	    <span class="p">{</span>
</span></span><span class="line"><span class="cl">		    <span class="n">Lookup</span> <span class="p">=</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		    <span class="n">Range</span> <span class="p">=</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">	    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">);</span>
</span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">"context"</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="s">"github.com/solvio/go-client/solvio"</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">client</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">solvio</span><span class="p">.</span><span class="nf">NewClient</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">solvio</span><span class="p">.</span><span class="nx">Config</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Host</span><span class="p">:</span> <span class="s">"localhost"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Port</span><span class="p">:</span> <span class="mi">6334</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">client</span><span class="p">.</span><span class="nf">CreateFieldIndex</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nf">Background</span><span class="p">(),</span> <span class="o">&amp;</span><span class="nx">solvio</span><span class="p">.</span><span class="nx">CreateFieldIndexCollection</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">CollectionName</span><span class="p">:</span> <span class="s">"{collection_name}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="nx">FieldName</span><span class="p">:</span>      <span class="s">"name_of_the_field_to_index"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="nx">FieldType</span><span class="p">:</span>      <span class="nx">solvio</span><span class="p">.</span><span class="nx">FieldType_FieldTypeInteger</span><span class="p">.</span><span class="nf">Enum</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">	<span class="nx">FieldIndexParams</span><span class="p">:</span> <span class="nx">solvio</span><span class="p">.</span><span class="nf">NewPayloadIndexParamsInt</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">		<span class="o">&amp;</span><span class="nx">solvio</span><span class="p">.</span><span class="nx">IntegerIndexParams</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">Lookup</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">			<span class="nx">Range</span><span class="p">:</span>  <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">		<span class="p">}),</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></div><h3 id="on-disk-payload-index">On-disk payload index</h3><p><em>Available as of v1.11.0</em></p><p>By default all payload-related structures are stored in memory. In this way, the vector index can quickly access payload values during search.
As latency in this case is critical, it is recommended to keep hot payload indexes in memory.</p><p>There are, however, cases when payload indexes are too large or rarely used. In those cases, it is possible to store payload indexes on disk.</p><aside role="alert">On-disk payload index might affect cold requests latency, as it requires additional disk I/O operations.</aside><p>To configure on-disk payload index, you can use the following index parameters:</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="err">PUT /collections/{collection_name}/index
</span></span></span><span class="line"><span class="cl"><span class="err">{
</span></span></span><span class="line"><span class="cl"><span class="err">    "field_name": "payload_field_name",
</span></span></span><span class="line"><span class="cl"><span class="err">    "field_schema": {
</span></span></span><span class="line"><span class="cl"><span class="err">        "type": "keyword",
</span></span></span><span class="line"><span class="cl"><span class="err">        "on_disk": true
</span></span></span><span class="line"><span class="cl"><span class="err">    }
</span></span></span><span class="line"><span class="cl"><span class="err">}
</span></span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">client</span><span class="o">.</span><span class="n">create_payload_index</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">collection_name</span><span class="o">=</span><span class="s2">"</span><span class="si">{collection_name}</span><span class="s2">"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">field_name</span><span class="o">=</span><span class="s2">"payload_field_name"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">field_schema</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">KeywordIndexParams</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="nb">type</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">KeywordIndexType</span><span class="o">.</span><span class="n">KEYWORD</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">on_disk</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">),</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="nx">client</span><span class="p">.</span><span class="nx">createPayloadIndex</span><span class="p">(</span><span class="s2">"{collection_name}"</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">field_name</span><span class="o">:</span> <span class="s2">"payload_field_name"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">field_schema</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">type</span><span class="o">:</span> <span class="s2">"keyword"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">on_disk</span>: <span class="kt">true</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="k">use</span><span class="w"> </span><span class="n">solvio_client</span>::<span class="n">solvio</span>::<span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">CreateFieldIndexCollectionBuilder</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">KeywordIndexParamsBuilder</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">FieldType</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">use</span><span class="w"> </span><span class="n">solvio_client</span>::<span class="p">{</span><span class="n">Solvio</span><span class="p">,</span><span class="w"> </span><span class="n">SolvioError</span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">let</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Solvio</span>::<span class="n">from_url</span><span class="p">(</span><span class="s">"http://localhost:6334"</span><span class="p">).</span><span class="n">build</span><span class="p">()</span><span class="o">?</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">client</span><span class="p">.</span><span class="n">create_field_index</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">CreateFieldIndexCollectionBuilder</span>::<span class="n">new</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="s">"{collection_name}"</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="s">"payload_field_name"</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">FieldType</span>::<span class="n">Keyword</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="n">field_index_params</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">KeywordIndexParamsBuilder</span>::<span class="n">default</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">.</span><span class="n">on_disk</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">);</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.SolvioClient</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.SolvioGrpcClient</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.grpc.Collections.PayloadIndexParams</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.grpc.Collections.PayloadSchemaType</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.grpc.Collections.KeywordIndexParams</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">SolvioClient</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">SolvioClient</span><span class="p">(</span><span class="n">SolvioGrpcClient</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">(</span><span class="s">"localhost"</span><span class="p">,</span><span class="w"> </span><span class="n">6334</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">).</span><span class="na">build</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">client</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="na">createPayloadIndexAsync</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="s">"{collection_name}"</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="s">"payload_field_name"</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">PayloadSchemaType</span><span class="p">.</span><span class="na">Keyword</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">PayloadIndexParams</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">.</span><span class="na">setKeywordIndexParams</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">KeywordIndexParams</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="p">.</span><span class="na">setOnDisk</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="p">.</span><span class="na">build</span><span class="p">())</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">.</span><span class="na">build</span><span class="p">(),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kc">null</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kc">null</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kc">null</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="na">get</span><span class="p">();</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">Solvio.Client</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">Solvio.Client.Grpc</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SolvioClient</span><span class="p">(</span><span class="s">"localhost"</span><span class="p">,</span> <span class="m">6334</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">await</span> <span class="n">client</span><span class="p">.</span><span class="n">CreatePayloadIndexAsync</span><span class="p">(</span>
</span></span><span class="line"><span class="cl"> <span class="n">collectionName</span><span class="p">:</span> <span class="s">"{collection_name}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"> <span class="n">fieldName</span><span class="p">:</span> <span class="s">"payload_field_name"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"> <span class="n">schemaType</span><span class="p">:</span> <span class="n">PayloadSchemaType</span><span class="p">.</span><span class="n">Keyword</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"> <span class="n">indexParams</span><span class="p">:</span> <span class="k">new</span> <span class="n">PayloadIndexParams</span>
</span></span><span class="line"><span class="cl"> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="n">KeywordIndexParams</span> <span class="p">=</span> <span class="k">new</span> <span class="n">KeywordIndexParams</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="n">OnDisk</span>   <span class="p">=</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">);</span>
</span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">"context"</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="s">"github.com/solvio/go-client/solvio"</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">client</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">solvio</span><span class="p">.</span><span class="nf">NewClient</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">solvio</span><span class="p">.</span><span class="nx">Config</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Host</span><span class="p">:</span> <span class="s">"localhost"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Port</span><span class="p">:</span> <span class="mi">6334</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">client</span><span class="p">.</span><span class="nf">CreateFieldIndex</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nf">Background</span><span class="p">(),</span> <span class="o">&amp;</span><span class="nx">solvio</span><span class="p">.</span><span class="nx">CreateFieldIndexCollection</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">CollectionName</span><span class="p">:</span> <span class="s">"{collection_name}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="nx">FieldName</span><span class="p">:</span>      <span class="s">"name_of_the_field_to_index"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="nx">FieldType</span><span class="p">:</span>      <span class="nx">solvio</span><span class="p">.</span><span class="nx">FieldType_FieldTypeKeyword</span><span class="p">.</span><span class="nf">Enum</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">	<span class="nx">FieldIndexParams</span><span class="p">:</span> <span class="nx">solvio</span><span class="p">.</span><span class="nf">NewPayloadIndexParamsKeyword</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">		<span class="o">&amp;</span><span class="nx">solvio</span><span class="p">.</span><span class="nx">KeywordIndexParams</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">OnDisk</span><span class="p">:</span> <span class="nx">solvio</span><span class="p">.</span><span class="nf">PtrOf</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">		<span class="p">}),</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></div><p>Payload index on-disk is supported for following types:</p><ul><li><code>keyword</code></li><li><code>integer</code></li><li><code>float</code></li><li><code>datetime</code></li><li><code>uuid</code></li><li><code>text</code></li><li><code>geo</code></li></ul><p>The list will be extended in future versions.</p><h3 id="tenant-index">Tenant Index</h3><p><em>Available as of v1.11.0</em></p><p>Many vector search use-cases require multitenancy. In a multi-tenant scenario the collection is expected to contain multiple subsets of data, where each subset belongs to a different tenant.</p><p>Solvio supports efficient multi-tenant search by enabling <a href="../../guides/multiple-partitions/index.html">special configuration</a> vector index, which disables global search and only builds sub-indexes for each tenant.</p><aside role="note">In Solvio, tenants are not necessarily non-overlapping. It is possible to have subsets of data that belong to multiple tenants.</aside><p>However, knowing that the collection contains multiple tenants unlocks more opportunities for optimization.
To optimize storage in Solvio further, you can enable tenant indexing for payload fields.</p><p>This option will tell Solvio which fields are used for tenant identification and will allow Solvio to structure storage for faster search of tenant-specific data.
One example of such optimization is localizing tenant-specific data closer on disk, which will reduce the number of disk reads during search.</p><p>To enable tenant index for a field, you can use the following index parameters:</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="err">PUT /collections/{collection_name}/index
</span></span></span><span class="line"><span class="cl"><span class="err">{
</span></span></span><span class="line"><span class="cl"><span class="err">    "field_name": "payload_field_name",
</span></span></span><span class="line"><span class="cl"><span class="err">    "field_schema": {
</span></span></span><span class="line"><span class="cl"><span class="err">        "type": "keyword",
</span></span></span><span class="line"><span class="cl"><span class="err">        "is_tenant": true
</span></span></span><span class="line"><span class="cl"><span class="err">    }
</span></span></span><span class="line"><span class="cl"><span class="err">}
</span></span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">client</span><span class="o">.</span><span class="n">create_payload_index</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">collection_name</span><span class="o">=</span><span class="s2">"</span><span class="si">{collection_name}</span><span class="s2">"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">field_name</span><span class="o">=</span><span class="s2">"payload_field_name"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">field_schema</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">KeywordIndexParams</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="nb">type</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">KeywordIndexType</span><span class="o">.</span><span class="n">KEYWORD</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">is_tenant</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">),</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="nx">client</span><span class="p">.</span><span class="nx">createPayloadIndex</span><span class="p">(</span><span class="s2">"{collection_name}"</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">field_name</span><span class="o">:</span> <span class="s2">"payload_field_name"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">field_schema</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">type</span><span class="o">:</span> <span class="s2">"keyword"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">is_tenant</span>: <span class="kt">true</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="k">use</span><span class="w"> </span><span class="n">solvio_client</span>::<span class="n">solvio</span>::<span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">CreateFieldIndexCollectionBuilder</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">KeywordIndexParamsBuilder</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">FieldType</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">use</span><span class="w"> </span><span class="n">solvio_client</span>::<span class="p">{</span><span class="n">Solvio</span><span class="p">,</span><span class="w"> </span><span class="n">SolvioError</span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">let</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Solvio</span>::<span class="n">from_url</span><span class="p">(</span><span class="s">"http://localhost:6334"</span><span class="p">).</span><span class="n">build</span><span class="p">()</span><span class="o">?</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">client</span><span class="p">.</span><span class="n">create_field_index</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">CreateFieldIndexCollectionBuilder</span>::<span class="n">new</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="s">"{collection_name}"</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="s">"payload_field_name"</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">FieldType</span>::<span class="n">Keyword</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="n">field_index_params</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">KeywordIndexParamsBuilder</span>::<span class="n">default</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">.</span><span class="n">is_tenant</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">);</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.SolvioClient</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.SolvioGrpcClient</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.grpc.Collections.PayloadIndexParams</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.grpc.Collections.PayloadSchemaType</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.grpc.Collections.KeywordIndexParams</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">SolvioClient</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">SolvioClient</span><span class="p">(</span><span class="n">SolvioGrpcClient</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">(</span><span class="s">"localhost"</span><span class="p">,</span><span class="w"> </span><span class="n">6334</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">).</span><span class="na">build</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">client</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="na">createPayloadIndexAsync</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="s">"{collection_name}"</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="s">"payload_field_name"</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">PayloadSchemaType</span><span class="p">.</span><span class="na">Keyword</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">PayloadIndexParams</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">.</span><span class="na">setKeywordIndexParams</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">KeywordIndexParams</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="p">.</span><span class="na">setIsTenant</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="p">.</span><span class="na">build</span><span class="p">())</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">.</span><span class="na">build</span><span class="p">(),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kc">null</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kc">null</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kc">null</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="na">get</span><span class="p">();</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">Solvio.Client</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">Solvio.Client.Grpc</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SolvioClient</span><span class="p">(</span><span class="s">"localhost"</span><span class="p">,</span> <span class="m">6334</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">await</span> <span class="n">client</span><span class="p">.</span><span class="n">CreatePayloadIndexAsync</span><span class="p">(</span>
</span></span><span class="line"><span class="cl"> <span class="n">collectionName</span><span class="p">:</span> <span class="s">"{collection_name}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"> <span class="n">fieldName</span><span class="p">:</span> <span class="s">"payload_field_name"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"> <span class="n">schemaType</span><span class="p">:</span> <span class="n">PayloadSchemaType</span><span class="p">.</span><span class="n">Keyword</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"> <span class="n">indexParams</span><span class="p">:</span> <span class="k">new</span> <span class="n">PayloadIndexParams</span>
</span></span><span class="line"><span class="cl"> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="n">KeywordIndexParams</span> <span class="p">=</span> <span class="k">new</span> <span class="n">KeywordIndexParams</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="n">IsTenant</span> <span class="p">=</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">);</span>
</span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">"context"</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="s">"github.com/solvio/go-client/solvio"</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">client</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">solvio</span><span class="p">.</span><span class="nf">NewClient</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">solvio</span><span class="p">.</span><span class="nx">Config</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Host</span><span class="p">:</span> <span class="s">"localhost"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Port</span><span class="p">:</span> <span class="mi">6334</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">client</span><span class="p">.</span><span class="nf">CreateFieldIndex</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nf">Background</span><span class="p">(),</span> <span class="o">&amp;</span><span class="nx">solvio</span><span class="p">.</span><span class="nx">CreateFieldIndexCollection</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">CollectionName</span><span class="p">:</span> <span class="s">"{collection_name}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="nx">FieldName</span><span class="p">:</span>      <span class="s">"name_of_the_field_to_index"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="nx">FieldType</span><span class="p">:</span>      <span class="nx">solvio</span><span class="p">.</span><span class="nx">FieldType_FieldTypeKeyword</span><span class="p">.</span><span class="nf">Enum</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">	<span class="nx">FieldIndexParams</span><span class="p">:</span> <span class="nx">solvio</span><span class="p">.</span><span class="nf">NewPayloadIndexParamsKeyword</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">		<span class="o">&amp;</span><span class="nx">solvio</span><span class="p">.</span><span class="nx">KeywordIndexParams</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">IsTenant</span><span class="p">:</span> <span class="nx">solvio</span><span class="p">.</span><span class="nf">PtrOf</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">		<span class="p">}),</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></div><p>Tenant optimization is supported for the following datatypes:</p><ul><li><code>keyword</code></li><li><code>uuid</code></li></ul><h3 id="principal-index">Principal Index</h3><p><em>Available as of v1.11.0</em></p><p>Similar to the tenant index, the principal index is used to optimize storage for faster search, assuming that the search request is primarily filtered by the principal field.</p><p>A good example of a use case for the principal index is time-related data, where each point is associated with a timestamp. In this case, the principal index can be used to optimize storage for faster search with time-based filters.</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="err">PUT /collections/{collection_name}/index
</span></span></span><span class="line"><span class="cl"><span class="err">{
</span></span></span><span class="line"><span class="cl"><span class="err">    "field_name": "timestamp",
</span></span></span><span class="line"><span class="cl"><span class="err">    "field_schema": {
</span></span></span><span class="line"><span class="cl"><span class="err">        "type": "integer",
</span></span></span><span class="line"><span class="cl"><span class="err">        "is_principal": true
</span></span></span><span class="line"><span class="cl"><span class="err">    }
</span></span></span><span class="line"><span class="cl"><span class="err">}
</span></span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">client</span><span class="o">.</span><span class="n">create_payload_index</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">collection_name</span><span class="o">=</span><span class="s2">"</span><span class="si">{collection_name}</span><span class="s2">"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">field_name</span><span class="o">=</span><span class="s2">"timestamp"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">field_schema</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">IntegerIndexParams</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="nb">type</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">IntegerIndexType</span><span class="o">.</span><span class="n">INTEGER</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">is_principal</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">),</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="nx">client</span><span class="p">.</span><span class="nx">createPayloadIndex</span><span class="p">(</span><span class="s2">"{collection_name}"</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">field_name</span><span class="o">:</span> <span class="s2">"timestamp"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">field_schema</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kr">type</span><span class="o">:</span> <span class="s2">"integer"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">is_principal</span>: <span class="kt">true</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="k">use</span><span class="w"> </span><span class="n">solvio_client</span>::<span class="n">solvio</span>::<span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">CreateFieldIndexCollectionBuilder</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">IntegerIndexParamsBuilder</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">FieldType</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">use</span><span class="w"> </span><span class="n">solvio_client</span>::<span class="p">{</span><span class="n">Solvio</span><span class="p">,</span><span class="w"> </span><span class="n">SolvioError</span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">let</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Solvio</span>::<span class="n">from_url</span><span class="p">(</span><span class="s">"http://localhost:6334"</span><span class="p">).</span><span class="n">build</span><span class="p">()</span><span class="o">?</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">client</span><span class="p">.</span><span class="n">create_field_index</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">CreateFieldIndexCollectionBuilder</span>::<span class="n">new</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="s">"{collection_name}"</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="s">"timestamp"</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">FieldType</span>::<span class="n">Integer</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="n">field_index_params</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">IntegerIndexParamsBuilder</span>::<span class="n">default</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">.</span><span class="n">is_principal</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">);</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.SolvioClient</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.SolvioGrpcClient</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.grpc.Collections.PayloadIndexParams</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.grpc.Collections.PayloadSchemaType</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.grpc.Collections.IntegerIndexParams</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">SolvioClient</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">new</span><span class="w"> </span><span class="n">SolvioClient</span><span class="p">(</span><span class="n">SolvioGrpcClient</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">(</span><span class="s">"localhost"</span><span class="p">,</span><span class="w"> </span><span class="n">6334</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">).</span><span class="na">build</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">client</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="na">createPayloadIndexAsync</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="s">"{collection_name}"</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="s">"timestamp"</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">PayloadSchemaType</span><span class="p">.</span><span class="na">Integer</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">PayloadIndexParams</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">.</span><span class="na">setIntegerIndexParams</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">KeywordIndexParams</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="p">.</span><span class="na">setIsPrincipa</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="p">.</span><span class="na">build</span><span class="p">())</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">.</span><span class="na">build</span><span class="p">(),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kc">null</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kc">null</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kc">null</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="na">get</span><span class="p">();</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">Solvio.Client</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">Solvio.Client.Grpc</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SolvioClient</span><span class="p">(</span><span class="s">"localhost"</span><span class="p">,</span> <span class="m">6334</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">await</span> <span class="n">client</span><span class="p">.</span><span class="n">CreatePayloadIndexAsync</span><span class="p">(</span>
</span></span><span class="line"><span class="cl"> <span class="n">collectionName</span><span class="p">:</span> <span class="s">"{collection_name}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"> <span class="n">fieldName</span><span class="p">:</span> <span class="s">"timestamp"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"> <span class="n">schemaType</span><span class="p">:</span> <span class="n">PayloadSchemaType</span><span class="p">.</span><span class="n">Integer</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"> <span class="n">indexParams</span><span class="p">:</span> <span class="k">new</span> <span class="n">PayloadIndexParams</span>
</span></span><span class="line"><span class="cl"> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="n">IntegerIndexParams</span> <span class="p">=</span> <span class="k">new</span> <span class="n">IntegerIndexParams</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="n">IsPrincipal</span> <span class="p">=</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">);</span>
</span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">"context"</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="s">"github.com/solvio/go-client/solvio"</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">client</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">solvio</span><span class="p">.</span><span class="nf">NewClient</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">solvio</span><span class="p">.</span><span class="nx">Config</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Host</span><span class="p">:</span> <span class="s">"localhost"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Port</span><span class="p">:</span> <span class="mi">6334</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">client</span><span class="p">.</span><span class="nf">CreateFieldIndex</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nf">Background</span><span class="p">(),</span> <span class="o">&amp;</span><span class="nx">solvio</span><span class="p">.</span><span class="nx">CreateFieldIndexCollection</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">CollectionName</span><span class="p">:</span> <span class="s">"{collection_name}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="nx">FieldName</span><span class="p">:</span>      <span class="s">"name_of_the_field_to_index"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="nx">FieldType</span><span class="p">:</span>      <span class="nx">solvio</span><span class="p">.</span><span class="nx">FieldType_FieldTypeInteger</span><span class="p">.</span><span class="nf">Enum</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">	<span class="nx">FieldIndexParams</span><span class="p">:</span> <span class="nx">solvio</span><span class="p">.</span><span class="nf">NewPayloadIndexParamsInt</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">		<span class="o">&amp;</span><span class="nx">solvio</span><span class="p">.</span><span class="nx">IntegerIndexParams</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="nx">IsPrincipal</span><span class="p">:</span> <span class="nx">solvio</span><span class="p">.</span><span class="nf">PtrOf</span><span class="p">(</span><span class="kc">true</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">		<span class="p">}),</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></div><p>Principal optimization is supported for following types:</p><ul><li><code>integer</code></li><li><code>float</code></li><li><code>datetime</code></li></ul><h2 id="vector-index">Vector Index</h2><p>A vector index is a data structure built on vectors through a specific mathematical model.
Through the vector index, we can efficiently query several vectors similar to the target vector.</p><p>Solvio currently only uses HNSW as a dense vector index.</p><p><a href="https://arxiv.org/abs/1603.09320" rel="noopener nofollow" target="_blank">HNSW</a> (Hierarchical Navigable Small World Graph) is a graph-based indexing algorithm. It builds a multi-layer navigation structure for an image according to certain rules. In this structure, the upper layers are more sparse and the distances between nodes are farther. The lower layers are denser and the distances between nodes are closer. The search starts from the uppermost layer, finds the node closest to the target in this layer, and then enters the next layer to begin another search. After multiple iterations, it can quickly approach the target position.</p><p>In order to improve performance, HNSW limits the maximum degree of nodes on each layer of the graph to <code>m</code>. In addition, you can use <code>ef_construct</code> (when building index) or <code>ef</code> (when searching targets) to specify a search range.</p><p>The corresponding parameters could be configured in the configuration file:</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">storage</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="c"># Default parameters of HNSW Index. Could be overridden for each collection or named vector individually</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">hnsw_index</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c"># Number of edges per node in the index graph.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c"># Larger the value - more accurate the search, more space required.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">m</span><span class="p">:</span><span class="w"> </span><span class="m">16</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c"># Number of neighbours to consider during the index building.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c"># Larger the value - more accurate the search, more time required to build index.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">ef_construct</span><span class="p">:</span><span class="w"> </span><span class="m">100</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c"># Minimal size (in KiloBytes) of vectors for additional payload-based indexing.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c"># If payload chunk is smaller than `full_scan_threshold_kb` additional indexing won't be used -</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c"># in this case full-scan search should be preferred by query planner and additional indexing is not required.</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="c"># Note: 1Kb = 1 vector of size 256</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">full_scan_threshold</span><span class="p">:</span><span class="w"> </span><span class="m">10000</span><span class="w">
</span></span></span></code></pre></div><p>And so in the process of creating a <a href="../collections/index.html">collection</a>. The <code>ef</code> parameter is configured during <a href="../search/index.html">the search</a> and by default is equal to <code>ef_construct</code>.</p><p>HNSW is chosen for several reasons.
First, HNSW is well-compatible with the modification that allows Solvio to use filters during a search.
Second, it is one of the most accurate and fastest algorithms, according to <a href="https://github.com/erikbern/ann-benchmarks" rel="noopener nofollow" target="_blank">public benchmarks</a>.</p><p><em>Available as of v1.1.1</em></p><p>The HNSW parameters can also be configured on a collection and named vector
level by setting <a href="index.html#vector-index"><code>hnsw_config</code></a> to fine-tune search
performance.</p><h2 id="sparse-vector-index">Sparse Vector Index</h2><p><em>Available as of v1.7.0</em></p><p>Sparse vectors in Solvio are indexed with a special data structure, which is optimized for vectors that have a high proportion of zeroes. In some ways, this indexing method is similar to the inverted index, which is used in text search engines.</p><ul><li>A sparse vector index in Solvio is exact, meaning it does not use any approximation algorithms.</li><li>All sparse vectors added to the collection are immediately indexed in the mutable version of a sparse index.</li></ul><p>With Solvio, you can benefit from a more compact and efficient immutable sparse index, which is constructed during the same optimization process as the dense vector index.</p><p>This approach is particularly useful for collections storing both dense and sparse vectors.</p><p>To configure a sparse vector index, create a collection with the following parameters:</p><p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="err">PUT /collections/{collection_name}
</span></span></span><span class="line"><span class="cl"><span class="err">{
</span></span></span><span class="line"><span class="cl"><span class="err">    "sparse_vectors": {
</span></span></span><span class="line"><span class="cl"><span class="err">        "text": {
</span></span></span><span class="line"><span class="cl"><span class="err">            "index": {
</span></span></span><span class="line"><span class="cl"><span class="err">                "on_disk": false
</span></span></span><span class="line"><span class="cl"><span class="err">            }
</span></span></span><span class="line"><span class="cl"><span class="err">        }
</span></span></span><span class="line"><span class="cl"><span class="err">    }
</span></span></span><span class="line"><span class="cl"><span class="err">}
</span></span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">solvio_client</span> <span class="kn">import</span> <span class="n">SolvioClient</span><span class="p">,</span> <span class="n">models</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">client</span> <span class="o">=</span> <span class="n">SolvioClient</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s2">"http://localhost:6333"</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">client</span><span class="o">.</span><span class="n">create_collection</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">collection_name</span><span class="o">=</span><span class="s2">"</span><span class="si">{collection_name}</span><span class="s2">"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">vectors_config</span><span class="o">=</span><span class="p">{},</span>
</span></span><span class="line"><span class="cl">    <span class="n">sparse_vectors_config</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s2">"text"</span><span class="p">:</span> <span class="n">models</span><span class="o">.</span><span class="n">SparseVectorParams</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="n">index</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">SparseIndexParams</span><span class="p">(</span><span class="n">on_disk</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">        <span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">SolvioClient</span><span class="p">,</span> <span class="nx">Schemas</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">"@solvio/js-client-rest"</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SolvioClient</span><span class="p">({</span> <span class="nx">host</span><span class="o">:</span> <span class="s2">"localhost"</span><span class="p">,</span> <span class="nx">port</span>: <span class="kt">6333</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">client</span><span class="p">.</span><span class="nx">createCollection</span><span class="p">(</span><span class="s2">"{collection_name}"</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">sparse_vectors</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s2">"splade-model-name"</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">index</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">on_disk</span>: <span class="kt">false</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="k">use</span><span class="w"> </span><span class="n">solvio_client</span>::<span class="n">solvio</span>::<span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">CreateCollectionBuilder</span><span class="p">,</span><span class="w"> </span><span class="n">SparseIndexConfigBuilder</span><span class="p">,</span><span class="w"> </span><span class="n">SparseVectorParamsBuilder</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">SparseVectorsConfigBuilder</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">use</span><span class="w"> </span><span class="n">solvio_client</span>::<span class="n">Solvio</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">let</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Solvio</span>::<span class="n">from_url</span><span class="p">(</span><span class="s">"http://localhost:6334"</span><span class="p">).</span><span class="n">build</span><span class="p">()</span><span class="o">?</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">sparse_vectors_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SparseVectorsConfigBuilder</span>::<span class="n">default</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">sparse_vectors_config</span><span class="p">.</span><span class="n">add_named_vector_params</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="s">"splade-model-name"</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">SparseVectorParamsBuilder</span>::<span class="n">default</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">.</span><span class="n">index</span><span class="p">(</span><span class="n">SparseIndexConfigBuilder</span>::<span class="n">default</span><span class="p">().</span><span class="n">on_disk</span><span class="p">(</span><span class="kc">true</span><span class="p">)),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">client</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="n">create_collection</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">CreateCollectionBuilder</span>::<span class="n">new</span><span class="p">(</span><span class="s">"{collection_name}"</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">.</span><span class="n">sparse_vectors_config</span><span class="p">(</span><span class="n">sparse_vectors_config</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="k">await</span><span class="o">?</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.SolvioClient</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.SolvioGrpcClient</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.grpc.Collections</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">SolvioClient</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">SolvioClient</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">SolvioGrpcClient</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">(</span><span class="s">"localhost"</span><span class="p">,</span><span class="w"> </span><span class="n">6334</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">).</span><span class="na">build</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">client</span><span class="p">.</span><span class="na">createCollectionAsync</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">Collections</span><span class="p">.</span><span class="na">CreateCollection</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">.</span><span class="na">setCollectionName</span><span class="p">(</span><span class="s">"{collection_name}"</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">.</span><span class="na">setSparseVectorsConfig</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">Collections</span><span class="p">.</span><span class="na">SparseVectorConfig</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">().</span><span class="na">putMap</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="s">"splade-model-name"</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">Collections</span><span class="p">.</span><span class="na">SparseVectorParams</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="p">.</span><span class="na">setIndex</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                        </span><span class="n">Collections</span><span class="p">.</span><span class="na">SparseIndexConfig</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                            </span><span class="p">.</span><span class="na">newBuilder</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                            </span><span class="p">.</span><span class="na">setOnDisk</span><span class="p">(</span><span class="kc">false</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                            </span><span class="p">.</span><span class="na">build</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="p">).</span><span class="na">build</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">).</span><span class="na">build</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">).</span><span class="na">build</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">).</span><span class="na">get</span><span class="p">();</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">Solvio.Client</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">Solvio.Client.Grpc</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SolvioClient</span><span class="p">(</span><span class="s">"localhost"</span><span class="p">,</span> <span class="m">6334</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">await</span> <span class="n">client</span><span class="p">.</span><span class="n">CreateCollectionAsync</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="n">collectionName</span><span class="p">:</span> <span class="s">"{collection_name}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="n">sparseVectorsConfig</span><span class="p">:</span> <span class="p">(</span><span class="s">"splade-model-name"</span><span class="p">,</span> <span class="k">new</span> <span class="n">SparseVectorParams</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">Index</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SparseIndexConfig</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">OnDisk</span> <span class="p">=</span> <span class="kc">false</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">);</span>
</span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">"context"</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="s">"github.com/solvio/go-client/solvio"</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">client</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">solvio</span><span class="p">.</span><span class="nf">NewClient</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">solvio</span><span class="p">.</span><span class="nx">Config</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Host</span><span class="p">:</span> <span class="s">"localhost"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Port</span><span class="p">:</span> <span class="mi">6334</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">client</span><span class="p">.</span><span class="nf">CreateCollection</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nf">Background</span><span class="p">(),</span> <span class="o">&amp;</span><span class="nx">solvio</span><span class="p">.</span><span class="nx">CreateCollection</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">CollectionName</span><span class="p">:</span> <span class="s">"{collection_name}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="nx">SparseVectorsConfig</span><span class="p">:</span> <span class="nx">solvio</span><span class="p">.</span><span class="nf">NewSparseVectorsConfig</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">		<span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="o">*</span><span class="nx">solvio</span><span class="p">.</span><span class="nx">SparseVectorParams</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="s">"splade-model-name"</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="nx">Index</span><span class="p">:</span> <span class="o">&amp;</span><span class="nx">solvio</span><span class="p">.</span><span class="nx">SparseIndexConfig</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">					<span class="nx">OnDisk</span><span class="p">:</span> <span class="nx">solvio</span><span class="p">.</span><span class="nf">PtrOf</span><span class="p">(</span><span class="kc">false</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">				<span class="p">}},</span>
</span></span><span class="line"><span class="cl">		<span class="p">}),</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></div>`</p><p>The following parameters may affect performance:</p><ul><li><code>on_disk: true</code> - The index is stored on disk, which lets you save memory. This may slow down search performance.</li><li><code>on_disk: false</code> - The index is still persisted on disk, but it is also loaded into memory for faster search.</li></ul><p>Unlike a dense vector index, a sparse vector index does not require a pre-defined vector size. It automatically adjusts to the size of the vectors added to the collection.</p><p><strong>Note:</strong> A sparse vector index only supports dot-product similarity searches. It does not support other distance metrics.</p><h3 id="idf-modifier">IDF Modifier</h3><p><em>Available as of v1.10.0</em></p><p>For many search algorithms, it is important to consider how often an item occurs in a collection.
Intuitively speaking, the less frequently an item appears in a collection, the more important it is in a search.</p><p>This is also known as the Inverse Document Frequency (IDF). It is used in text search engines to rank search results based on the rarity of a word in a collection.</p><p>IDF depends on the currently stored documents and therefore can‚Äôt be pre-computed in the sparse vectors in streaming inference mode.
In order to support IDF in the sparse vector index, Solvio provides an option to modify the sparse vector query with the IDF statistics automatically.</p><p>The only requirement is to enable the IDF modifier in the collection configuration:</p><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-http" data-lang="http"><span class="line"><span class="cl"><span class="err">PUT /collections/{collection_name}
</span></span></span><span class="line"><span class="cl"><span class="err">{
</span></span></span><span class="line"><span class="cl"><span class="err">    "sparse_vectors": {
</span></span></span><span class="line"><span class="cl"><span class="err">        "text": {
</span></span></span><span class="line"><span class="cl"><span class="err">            "modifier": "idf"
</span></span></span><span class="line"><span class="cl"><span class="err">        }
</span></span></span><span class="line"><span class="cl"><span class="err">    }
</span></span></span><span class="line"><span class="cl"><span class="err">}
</span></span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">solvio_client</span> <span class="kn">import</span> <span class="n">SolvioClient</span><span class="p">,</span> <span class="n">models</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">client</span> <span class="o">=</span> <span class="n">SolvioClient</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="s2">"http://localhost:6333"</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">client</span><span class="o">.</span><span class="n">create_collection</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">collection_name</span><span class="o">=</span><span class="s2">"</span><span class="si">{collection_name}</span><span class="s2">"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">vectors_config</span><span class="o">=</span><span class="p">{},</span>
</span></span><span class="line"><span class="cl">    <span class="n">sparse_vectors_config</span><span class="o">=</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s2">"text"</span><span class="p">:</span> <span class="n">models</span><span class="o">.</span><span class="n">SparseVectorParams</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="n">modifier</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">Modifier</span><span class="o">.</span><span class="n">IDF</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-typescript" data-lang="typescript"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">SolvioClient</span><span class="p">,</span> <span class="nx">Schemas</span> <span class="p">}</span> <span class="kr">from</span> <span class="s2">"@solvio/js-client-rest"</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SolvioClient</span><span class="p">({</span> <span class="nx">host</span><span class="o">:</span> <span class="s2">"localhost"</span><span class="p">,</span> <span class="nx">port</span>: <span class="kt">6333</span> <span class="p">});</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">client</span><span class="p">.</span><span class="nx">createCollection</span><span class="p">(</span><span class="s2">"{collection_name}"</span><span class="p">,</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">sparse_vectors</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s2">"text"</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">modifier</span><span class="o">:</span> <span class="s2">"idf"</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">});</span>
</span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="k">use</span><span class="w"> </span><span class="n">solvio_client</span>::<span class="n">solvio</span>::<span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">CreateCollectionBuilder</span><span class="p">,</span><span class="w"> </span><span class="n">Modifier</span><span class="p">,</span><span class="w"> </span><span class="n">SparseVectorParamsBuilder</span><span class="p">,</span><span class="w"> </span><span class="n">SparseVectorsConfigBuilder</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">use</span><span class="w"> </span><span class="n">solvio_client</span>::<span class="p">{</span><span class="n">Solvio</span><span class="p">,</span><span class="w"> </span><span class="n">SolvioError</span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">let</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Solvio</span>::<span class="n">from_url</span><span class="p">(</span><span class="s">"http://localhost:6334"</span><span class="p">).</span><span class="n">build</span><span class="p">()</span><span class="o">?</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">sparse_vectors_config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SparseVectorsConfigBuilder</span>::<span class="n">default</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">sparse_vectors_config</span><span class="p">.</span><span class="n">add_named_vector_params</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="s">"text"</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">SparseVectorParamsBuilder</span>::<span class="n">default</span><span class="p">().</span><span class="n">modifier</span><span class="p">(</span><span class="n">Modifier</span>::<span class="n">Idf</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">client</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="n">create_collection</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">CreateCollectionBuilder</span>::<span class="n">new</span><span class="p">(</span><span class="s">"{collection_name}"</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">.</span><span class="n">sparse_vectors_config</span><span class="p">(</span><span class="n">sparse_vectors_config</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="k">await</span><span class="o">?</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-java" data-lang="java"><span class="line"><span class="cl"><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.SolvioClient</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.SolvioGrpcClient</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.grpc.Collections.CreateCollection</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.grpc.Collections.Modifier</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.grpc.Collections.SparseVectorConfig</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">io.solvio.client.grpc.Collections.SparseVectorParams</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">SolvioClient</span><span class="w"> </span><span class="n">client</span><span class="w"> </span><span class="o">=</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">new</span><span class="w"> </span><span class="n">SolvioClient</span><span class="p">(</span><span class="n">SolvioGrpcClient</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">(</span><span class="s">"localhost"</span><span class="p">,</span><span class="w"> </span><span class="n">6334</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">).</span><span class="na">build</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="n">client</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">.</span><span class="na">createCollectionAsync</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">CreateCollection</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="na">setCollectionName</span><span class="p">(</span><span class="s">"{collection_name}"</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="na">setSparseVectorsConfig</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="n">SparseVectorConfig</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="p">.</span><span class="na">putMap</span><span class="p">(</span><span class="s">"text"</span><span class="p">,</span><span class="w"> </span><span class="n">SparseVectorParams</span><span class="p">.</span><span class="na">newBuilder</span><span class="p">().</span><span class="na">setModifier</span><span class="p">(</span><span class="n">Modifier</span><span class="p">.</span><span class="na">Idf</span><span class="p">).</span><span class="na">build</span><span class="p">()))</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">.</span><span class="na">build</span><span class="p">())</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="p">.</span><span class="na">get</span><span class="p">();</span><span class="w">
</span></span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-csharp" data-lang="csharp"><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">Solvio.Client</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="k">using</span> <span class="nn">Solvio.Client.Grpc</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kt">var</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SolvioClient</span><span class="p">(</span><span class="s">"localhost"</span><span class="p">,</span> <span class="m">6334</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">await</span> <span class="n">client</span><span class="p">.</span><span class="n">CreateCollectionAsync</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="n">collectionName</span><span class="p">:</span> <span class="s">"{collection_name}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="n">sparseVectorsConfig</span><span class="p">:</span> <span class="p">(</span><span class="s">"text"</span><span class="p">,</span> <span class="k">new</span> <span class="n">SparseVectorParams</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Modifier</span> <span class="p">=</span> <span class="n">Modifier</span><span class="p">.</span><span class="n">Idf</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">);</span>
</span></span></code></pre></div><div class="highlight"><pre class="chroma" tabindex="0"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">	<span class="s">"context"</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="s">"github.com/solvio/go-client/solvio"</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">client</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">solvio</span><span class="p">.</span><span class="nf">NewClient</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">solvio</span><span class="p">.</span><span class="nx">Config</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Host</span><span class="p">:</span> <span class="s">"localhost"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="nx">Port</span><span class="p">:</span> <span class="mi">6334</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">client</span><span class="p">.</span><span class="nf">CreateCollection</span><span class="p">(</span><span class="nx">context</span><span class="p">.</span><span class="nf">Background</span><span class="p">(),</span> <span class="o">&amp;</span><span class="nx">solvio</span><span class="p">.</span><span class="nx">CreateCollection</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="nx">CollectionName</span><span class="p">:</span> <span class="s">"{collection_name}"</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">	<span class="nx">SparseVectorsConfig</span><span class="p">:</span> <span class="nx">solvio</span><span class="p">.</span><span class="nf">NewSparseVectorsConfig</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">		<span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="o">*</span><span class="nx">solvio</span><span class="p">.</span><span class="nx">SparseVectorParams</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">			<span class="s">"text"</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">				<span class="nx">Modifier</span><span class="p">:</span> <span class="nx">solvio</span><span class="p">.</span><span class="nx">Modifier_Idf</span><span class="p">.</span><span class="nf">Enum</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">			<span class="p">},</span>
</span></span><span class="line"><span class="cl">		<span class="p">}),</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span></code></pre></div><p>Solvio uses the following formula to calculate the IDF modifier:</p><p>$$
\text{IDF}(q_i) = \ln \left(\frac{N - n(q_i) + 0.5}{n(q_i) + 0.5}+1\right)
$$</p><p>Where:</p><ul><li><code>N</code> is the total number of documents in the collection.</li><li><code>n</code> is the number of documents containing non-zero values for the given vector element.</li></ul><h2 id="filtrable-index">Filtrable Index</h2><p>Separately, a payload index and a vector index cannot solve the problem of search using the filter completely.</p><p>In the case of weak filters, you can use the HNSW index as it is. In the case of stringent filters, you can use the payload index and complete rescore.
However, for cases in the middle, this approach does not work well.</p><p>On the one hand, we cannot apply a full scan on too many vectors. On the other hand, the HNSW graph starts to fall apart when using too strict filters.</p><p><img alt="HNSW fail" src="../../../docs/precision_by_m.png"/></p><p><img alt="hnsw graph" src="../../../docs/graph.gif"/></p><p>You can find more information on why this happens in our <a href="https://blog.vasnetsov.com/posts/categorical-hnsw/" rel="noopener nofollow" target="_blank">blog post</a>.
Solvio solves this problem by extending the HNSW graph with additional edges based on the stored payload values.</p><p>Extra edges allow you to efficiently search for nearby vectors using the HNSW index and apply filters as you search in the graph.</p><p>This approach minimizes the overhead on condition checks since you only need to calculate the conditions for a small fraction of the points involved in the search.</p></article><section class="docs-feedback d-print-none"><h5 class="docs-feedback__title">Was this page useful?</h5><div class="docs-feedback__buttons"><button class="button button_outlined button_sm docs-feedback__button" id="feedback__answer_yes">
<img alt="Thumb up icon" src="../../../icons/outline/thumb-up.svg"/>
Yes
</button>
<button class="button button_outlined button_sm docs-feedback__button" id="feedback__answer_no">
<img alt="Thumb down icon" src="../../../icons/outline/thumb-down.svg"/>
No</button></div></section><section class="docs-feedback__responses d-none"><p class="docs-feedback__response docs-feedback__response_yes" id="feedback__response_yes">Thank you for your feedback! üôè</p><p class="docs-feedback__response docs-feedback__response_no" id="feedback__response_no">We are sorry to hear that. üòî You can <a class="text-brand-p" href="https:/github.com/solvio/landing_page/tree/master/solvio-landing/content/documentation/concepts/indexing.md" target="_blank">edit</a> this page on GitHub, or <a class="text-brand-p" href="https://github.com/solvio/landing_page/issues/new/choose" target="_blank">create</a> a GitHub issue.</p></section><script>const buttonsSection=document.querySelector(".docs-feedback"),responsesSection=document.querySelector(".docs-feedback__responses"),yesButton=document.querySelector("#feedback__answer_yes"),noButton=document.querySelector("#feedback__answer_no"),yesResponse=document.querySelector("#feedback__response_yes"),noResponse=document.querySelector("#feedback__response_no"),toggleResponses=()=>{buttonsSection.classList.add("d-none"),responsesSection.classList.remove("d-none")};yesButton.addEventListener("click",()=>{yesResponse.classList.add("feedback__response_visible"),toggleResponses()}),noButton.addEventListener("click",()=>{noResponse.classList.add("feedback__response_visible"),toggleResponses()})</script></div><div class="table-of-contents"><p class="table-of-contents__head">On this page:</p><nav id="TableOfContents"><ul><li><a href="index.html#indexing">Indexing</a><ul><li><a href="index.html#payload-index">Payload Index</a><ul><li><a href="index.html#full-text-index">Full-text index</a></li><li><a href="index.html#parameterized-index">Parameterized index</a></li><li><a href="index.html#on-disk-payload-index">On-disk payload index</a></li><li><a href="index.html#tenant-index">Tenant Index</a></li><li><a href="index.html#principal-index">Principal Index</a></li></ul></li><li><a href="index.html#vector-index">Vector Index</a></li><li><a href="index.html#sparse-vector-index">Sparse Vector Index</a><ul><li><a href="index.html#idf-modifier">IDF Modifier</a></li></ul></li><li><a href="index.html#filtrable-index">Filtrable Index</a></li></ul></li></ul></nav></div><footer class="docs-footer w-100 py-0 pt-0 pb-4 pb-xl-0"><div class="docs-footer__cta"><h4>Ready to get started with Solvio?</h4><a class="button button_outlined button_sm" href="https://solvio.to/cloud/" target="_blank">Start Free</a></div><div class="docs-footer__bottom"><div class="docs-footer__bottom-content"><span>¬© 2025 Solvio.</span></div></div></footer></div></div></div></div></section></main></body><script async="" type="text/javascript">function OptanonWrapper(){const e=new CustomEvent("onetrust_loaded");document.dispatchEvent(e)}</script><script>!function(){const o="eQYi1nZE2zQSmnHuxjMRlDd2uLl65oHe";var n,s,t="analytics",e=window[t]=window[t]||[];if(!e.initialize)if(e.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{e.invoked=!0,e.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","screen","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware","register"],e.factory=function(n){return function(){if(window[t].initialized)return window[t][n].apply(window[t],arguments);var o,s=Array.prototype.slice.call(arguments);return["track","screen","alias","group","page","identify"].indexOf(n)>-1&&(o=document.querySelector("link[rel='canonical']"),s.push({__t:"bpc",c:o&&o.getAttribute("href")||void 0,p:location.pathname,u:location.href,s:location.search,t:document.title,r:document.referrer})),s.unshift(n),e.push(s),e}};for(n=0;n<e.methods.length;n++)s=e.methods[n],e[s]=e.factory(s);e.load=function(n,s){var i,o=document.createElement("script");o.type="text/javascript",o.async=!0,o.setAttribute("data-global-segment-analytics-key",t),o.src="https://evs.analytics.solvio.tech/5caWuitPgcGFN5Q7HMpTaj/vEkmzjuRSqeXGbhGAFTWex.min.js",i=document.getElementsByTagName("script")[0],i.parentNode.insertBefore(o,i),e._loadOptions=s},e._writeKey=o,e._cdn="https://evs.analytics.solvio.tech",e.SNIPPET_VERSION="5.2.0",e.load(o)}}()</script><script src="../../../js/google-setup.min.14728a3ae9bd931593645b6ddbfe801d400cd2970006e782cb67f3966654248ca962dbaf4cf371493a2d326861b3a691a99d6d8349c8b2752339ab91d3787069.js"></script><script src="../../../js/index.min.e37feda1952d752f5568e1ebc55e183629e4d361f4df09edeed70b4a4327d601161c4147bdbe4149b4a3cdc1ed43f1bf1a2f2340a421f1aa821103980dfe0bda.js"></script><script src="../../../js/search/search.min.328025828a7fa9c307213f15802ebd03c13ee7ed57de2f78c6afa8f4559c91029ddc3ff057e542aeff95f130e0a5d07867b9a83183de7ac0fa73c1ceb18d6e0d.js" type="module"></script><script src="../../../js/search/scroll.min.1d7f8fa4537bd0d17128ff206e3895d438bb6f14f60db3f4fbb3d47922ad458da372a2c793e6ce2442b65559423423d7fdc84617b1ed80893a151065ae408e37.js"></script><script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script><script src="../../../js/copy-code.min.95b03a45b2ab4b7a608ecfd4b5919c8572a5b2cd1463f52561cd10976abf3b74334f91324c0e620cb80afac46026a0b18cce6fb753d8495f74c6d478c8ca1d03.js"></script><script src="../../../js/lang-switcher.min.63da11cef09772078425b1ee56415b9c37842a9399f2ba2d2f5efbf72fb751686c410bd50e9bcd283c8231cb97c1973199d4923beef29d8b06e59d9983a6ba51.js"></script><script async="" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0},options:{skipHtmlTags:["script","noscript","style","textarea","pre"]}},window.addEventListener("load",e=>{document.querySelectorAll("mjx-container").forEach(function(e){e.parentElement.classList+="has-jax"})})</script><script src="../../../js/vendor/anchor.min.0e138e17ebcf1c1147a7a3a81d9ac3c601622eedc479f1636470eb2552470f4e27c9a8efe6e8378995dedc1ab67029d8989536ea76f0857d45d1615ae772b8a1.js"></script><script>document.addEventListener("keydown",function(e){if((e.metaKey||e.ctrlKey)&&e.key==="k"){e.preventDefault();let t=document.querySelector('[data-target="#searchModal"]');t&&t?.click()}})</script><script>window.addEventListener("message",e=>{if(e.data.type==="hsFormCallback"&&e.data.eventName==="onFormReady"){const t=document.querySelector(`form[data-form-id="${e.data.id}"]`);if(t){const e=t.querySelector('[name="last_form_fill_url"]');e&&(e.value=window.location.href);const n=t.querySelector('[name="referrer_url"]');n&&(n.value=document.referrer)}}})</script></html>