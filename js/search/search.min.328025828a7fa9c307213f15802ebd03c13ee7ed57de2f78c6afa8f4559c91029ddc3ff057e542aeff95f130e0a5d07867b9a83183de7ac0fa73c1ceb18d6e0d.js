(()=>{!function(){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function h(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}function x(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w(n.key),n)}function w(e){var t=function(e){if("object"!=n(e)||!e)return e;var t,s=e[Symbol.toPrimitive];if(void 0!==s){if(t=s.call(e,"string"),"object"!=n(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}function f(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function j(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,m(t,e))}function b(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,m(t,e),n),n}function m(e,t){return e.get(function(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}(e,t))}var l=new WeakMap,d=new WeakMap,O=function(){function e(t){var s,o,n=this,i=t.modalOuterSelector,a=t.modalDialogSelector,r=t.closeBtnSelector,c=t.resultSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,l,{writable:!0,value:void 0}),f(this,d,{writable:!0,value:void 0}),this.modal=document.querySelector(i),this.dialog=document.querySelector(a),this.openBtns=document.querySelectorAll('[data-target="#searchModal"]'),this.closeBtn=this.modal.querySelector(r),this.result=this.modal.querySelector(c),b(this,l,new Event("qdrModalShow")),b(this,d,new Event("qdrModalHide")),o=this.show.bind(this),s=this.hide.bind(this),this.openBtns.forEach(function(e){return e.addEventListener("click",o)}),this.modal.addEventListener("click",function(e){var t=n.dialog.contains(e.target)||e.target===n.dialog,o=n.closeBtn.contains(e.target)||e.target===n.closeBtn;t&&!o||s(e)}),document.addEventListener("keydown",function(e){"Escape"===e.key&&s(e)})}var t,n;return t=e,n=[{key:"show",value:function(){this.modal.style.display="block",this.modal.classList.add("active"),document.dispatchEvent(j(this,l))}},{key:"hide",value:function(){var t,e=this.modal,n=j(this,d);e.classList.remove("active"),t=setTimeout(function(){e.style.display="none",document.dispatchEvent(n),clearTimeout(t)},300)}},{key:"updateResultChildren",value:function(e,t){var n;(n=this.result).replaceChildren.apply(n,function(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(e)),t&&"function"==typeof t&&t()}}],n&&x(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function k(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}function y(e){var t=function(e){if("object"!=s(e)||!e)return e;var t,n=e[Symbol.toPrimitive];if(void 0!==n){if(t=n.call(e,"string"),"object"!=s(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}function c(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,n)}function e(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,v(t,e))}function i(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,v(t,e),n),n}function v(e,t){return e.get(function(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}(e,t))}var p,a=new WeakMap,r=new WeakMap,t=new WeakMap,_=function(){function n(s){var o=this,l=s.apiUrl,d=s.section,u=s.partition;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),c(this,a,{writable:!0,value:void 0}),c(this,r,{writable:!0,value:void 0}),c(this,t,{writable:!0,value:void 0}),this._input=document.querySelector("#searchInput"),this.apiUrl=l,this.section=d,this.partition=u,this._data=[],this._error=void 0,i(this,a,new Event("searchDataIsReady")),i(this,r,0),i(this,t,0),this._input.addEventListener("input",function(t){0===t.target.value.trim().length?(o._data=[],document.dispatchEvent(e(o,a))):o.fetchData(t.target.value)})}var s,o;return s=n,o=[{key:"input",get:function(){return this._input},set:function(e){this._input=e}},{key:"data",get:function(){return this._data},set:function(e){this._data=e}},{key:"error",get:function(){return this._error},set:function(e){this._error=e}},{key:"fetchData",value:function(){var o,c,l,s=this;0!==this.input.value.trim().length&&(o=new URL(this.apiUrl,document.location),o.searchParams.append("q",this.input.value),this.section&&o.searchParams.append("section",this.section),this.partition&&o.searchParams.append("partition",this.partition),c=e(this,t)+1,i(this,t,e(this,t)+1),l=setTimeout(function(){clearTimeout(l),e(s,t)<=c&&fetch(o).then(function(e){return e.ok?e.json():{result:[],error:e.statusText}}).then(function(t){c>e(s,r)&&(i(s,r,c),s.data=t.result,s.error=t?.error,document.dispatchEvent(e(s,a)))}).catch(function(e){s.error=e.message})},100))}}],o&&k(s.prototype,o),Object.defineProperty(s,"prototype",{writable:!1}),n}();function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function g(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function u(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=Array(t);n<t;n++)s[n]=e[n];return s}function C(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E(n.key),n)}function E(e){var t=function(e){if("object"!=o(e)||!e)return e;var t,n=e[Symbol.toPrimitive];if(void 0!==n){if(t=n.call(e,"string"),"object"!=o(t))return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}p=function(){function e(t){var s,n=this,o=t.searchApiUrl,i=t.section,a=t.partition;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.apiUrl=o,this.section=i,this.partition=a,this.modal=new O({modalOuterSelector:"#searchModal",modalDialogSelector:".qdr-search__dialog",closeBtnSelector:".qdr-search__close",resultSelector:".qdr-search__results"}),this.searchInput=new _({apiUrl:this.apiUrl,section:this.section,partition:this.partition}),this.activeResultIdx=null,document.addEventListener("qdrModalShow",this.setFocusToInput.bind(this)),document.addEventListener("searchDataIsReady",this.updateResult.bind(this)),s=this.navigateTroughResults.bind(this),document.addEventListener("keydown",function(e){"ArrowUp"!==e.key&&"ArrowDown"!==e.key||(e.preventDefault(),s(e)),"Enter"===e.key&&(e.preventDefault(),function(e){if(e){var t=new MouseEvent("click",{bubbles:!0,cancelable:!0});e.dispatchEvent(t)}}(n.modal.result.querySelector('.qdr-search-result[data-key="'.concat(n.activeResultIdx,'"]'))))})}var t,n;return t=e,n=[{key:"activeResultIdx",get:function(){return this._activeResultIdx},set:function(e){this._activeResultIdx=e}},{key:"generateSearchResult",value:function(e){var n,s,t=document.createElement("a");return t.classList.add("qdr-search-result"),t.href=function(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=new URL(e==null||null===(t=e.payload)||void 0===t?void 0:t.url,window.location.origin);return s.searchParams.append("selector",window.btoa(e==null||null===(n=e.payload)||void 0===n?void 0:n.location)),o&&s.searchParams.append("q",o),s.toString()}(e,null===(n=this.searchInput.input)||void 0===n?void 0:n.value),s="p"===e.payload.tag?"qdr-search-result__icon":"qdr-search-result__paragraph-icon",t.innerHTML='<span class="'.concat(s,`"></span>
                   <div class="qdr-search-result__body"><h5 class="mt-0">`).concat(e?.highlight||e.payload.text,`</h5>
                   <p>`).concat(e.payload.titles.join(" > "),"</p></div>"),t}},{key:"updateResult",value:function(){var e=this,t=[];this.activeResultIdx=null,this.searchInput.data.forEach(function(n,s){var o=e.generateSearchResult(n);o.dataset.key=s,t.push(o),o.addEventListener("mouseover",function(){e.activeResultIdx=parseInt(o.dataset.key),e.addActiveClassToResult(e.activeResultIdx)})}),this.modal.updateResultChildren(t,function(){e.activeResultIdx=0,e.addActiveClassToResult(e.activeResultIdx)})}},{key:"setFocusToInput",value:function(){this.searchInput.input.focus()}},{key:"addActiveClassToResult",value:function(e){var t=this.modal.result.querySelectorAll(".qdr-search-result");0!==t.length&&(g(t).forEach(function(e){e.classList.contains("active")&&e.classList.remove("active")}),g(t).find(function(t){return parseInt(t.dataset.key)===parseInt(e)}).classList.add("active"))}},{key:"navigateTroughResults",value:function(e){var t;"ArrowUp"===e.key&&(t=this.activeResultIdx-1,this.activeResultIdx=t>=0?t:this.searchInput.data.length-1),"ArrowDown"===e.key&&((t=null===this.activeResultIdx?0:this.activeResultIdx+1)<this.searchInput.data.length?this.activeResultIdx=t:this.activeResultIdx=0),this.addActiveClassToResult(this.activeResultIdx)}}],n&&C(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),window.initQdrantSearch=function(e){var t,n=e.searchApiUrl,s=e.section,o=e.partition;return document.body.appendChild(((t=document.createElement("div")).innerHTML=`<div class="qdr-search" id="searchModal" tabindex="-1"
    aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="qdr-search__dialog">
        <div class="qdr-search__content">
            <div class="qdr-search__header">
                <div class="qdr-search__title">
                    <div class="qdr-search__icon">
                        <span class="search-icon"></span>
                    </div>
                    <input type="text" class="qdr-search__input" autocomplete="off" placeholder="Search..."
                          id="searchInput" aria-label="Search">
                </div>

                <button type="button" class="qdr-search__close" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="qdr-search__results"></div>

            <div class="qdr-search__footer"> 
                <a href="https://qdrant.tech/" target="_blank" rel="nofollow">
                    Powered by
                    <span class="qdr-search__logo"></span>
                </a>
            </div>
        </div>
    </div>
  </div>`.trim(),t.firstElementChild)),new p({searchApiUrl:n,section:s,partition:o})}}(),function(){const t=document.querySelector('meta[name="partition"]');let e=null;t&&(e=t.content),/documentation|docs/.test(window.location?.pathname)&&window.initQdrantSearch({searchApiUrl:"https://search.qdrant.tech/api/search",section:"documentation",partition:e}),/articles/.test(window.location?.pathname)&&window.initQdrantSearch({searchApiUrl:"https://search.qdrant.tech/api/search",section:"articles",partition:e}),/blog/.test(window.location?.pathname)&&window.initQdrantSearch({searchApiUrl:"https://search.qdrant.tech/api/search",section:"blog",partition:e})}()})()