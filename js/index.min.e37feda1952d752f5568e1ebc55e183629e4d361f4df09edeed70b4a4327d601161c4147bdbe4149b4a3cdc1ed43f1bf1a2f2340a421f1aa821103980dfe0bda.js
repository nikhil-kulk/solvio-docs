(()=>{var e,n,s,o,i,a,r,c,d,h,m,p,g,b,j,y,S=class{constructor(){this.lastScrollTop=0,this.scrollDownCallbacks=[],this.scrollUpCallbacks=[],window.addEventListener("scroll",()=>{const e=window.pageYOffset||document.documentElement.scrollTop;e>this.lastScrollTop?this.scrollDownCallbacks.forEach(t=>t(e)):this.scrollUpCallbacks.forEach(t=>t(e)),this.lastScrollTop=e<=0?0:e},!1)}onScrollDown(e){this.scrollDownCallbacks.push(e)}onScrollUp(e){this.scrollUpCallbacks.push(e)}},E=new S,v=E,f=1400,O=100;function x(e){const t=document.querySelector(e||".go-to-top");if(!t)return;window.addEventListener("scroll",()=>{const e=window.scrollY>window.innerHeight/3;t.classList.toggle("d-block",e),t.classList.toggle("d-none",!e)}),t.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}function t(e){const n=decodeURIComponent(document.cookie),t=n.split(";");e=e+"=";for(let s=0;s<t.length;s++){let n=t[s];for(;n.charAt(0)===" ";)n=n.substring(1);if(n.indexOf(e)===0)return n.substring(e.length,n.length)}}i="ajs_anonymous_id";function A(){const e="https://cloud.qdrant.io/",t=analytics.user().anonymousId();function n(e,t,n){const s=new URL(e,window.location.origin);return s.searchParams.set(t,n),s.toString()}const s=document.querySelectorAll(`a[href^="${e}"]`);s.forEach(e=>{e.href=n(e.href,i,t)})}function l(e){const n=t("ga_measurement_id")?.replace("G-","");e.ga_session_id=t("_ga_"+n)?.replace("GS1.1.","").split(".")[0],e.ga_client_id=t("_ga")?.replace("GA1.1.","")}function C(){const e=new URLSearchParams(window.location.search),n={gcl:e.get("gclid"),gbra:e.get("gbraid"),wbra:e.get("wbraid")},s={source:e.get("utm_source"),medium:e.get("utm_medium"),campaign:e.get("utm_campaign"),content:e.get("utm_content")};let t="";for(const e in n)n[e]&&(sessionStorage.setItem(`${e}id`,n[e]),t+=`${e}id=${n[e]}&`);for(const e in s)s[e]&&(sessionStorage.setItem(`utm_${e}`,s[e]),t+=`utm_${e}=${s[e]}&`);if(t.length>0){t=t.replace(/[&|?]$/,"");const e=document.querySelectorAll('a[href*="cloud.qdrant.io"]');e.forEach(e=>{const n=e.href,s=n.indexOf("?")===-1?"?":"&";e.href=`${n}${s}${t}`})}}function u(){const e=window.OnetrustActiveGroups??"";return window.analytics.register({name:"OneTrust Integration Cookie",version:"0.1.0",type:"enrichment",isLoaded:()=>!0,load:()=>Promise.resolve(),page:t=>(t.event.context&&t.updateEvent("context.consent",{onetrust:e}),t),track:t=>(t.event.context&&t.updateEvent("context.consent",{onetrust:e}),t),identify:t=>(t.event.context&&t.updateEvent("context.consent",{onetrust:e}),t)}).catch(()=>!1),!0}h="segmentPages",e="segmentInteractions",o={url:window.location.href,title:document.title},p=()=>{const e=new Date;return{...o,storedEvent:!0,storedTimestamp:e.toISOString()}},g=e=>e.includes("/blog/")?"Blog":"Marketing Site",s=e=>{const i={...o,location:e.target.getAttribute("data-metric-loc")??"",label:e.target.getAttribute("data-metric-label")??e.target.innerText,action:"clicked"};t("cookie-consent")?(n(i),e.target.hasAttribute("data-metric-keep")||e.target.removeEventListener("click",s)):w(i)};function _(){const e=document.querySelectorAll("a[data-metric-loc]");e&&e.forEach(e=>{e.addEventListener("click",s,!1)})}j=()=>JSON.parse(sessionStorage.getItem(e)||"[]"),y=()=>{sessionStorage.removeItem(h)},b=()=>{sessionStorage.removeItem(e)};function w(t){const n={...t,...p()},s=JSON.parse(sessionStorage.getItem(e)||"[]"),o=[...s,n];sessionStorage.setItem(e,JSON.stringify(o))}m=()=>{const t="Qdrant.tech",n=g(window.location.href),e={};l(e),window.analytics.page(t,n,e),y()},a=()=>{j().forEach(e=>{n(e)}),b()},d=(e,t={})=>{const n=t.storedEvent?t.storedTimestamp:null;delete t.storedTimestamp,l(t),window.analytics&&window.analytics.track({event:e,properties:t},n?{timestamp:n}:null)},n=(e={})=>{d("interaction",e)};function k(){C(),analytics.ready(()=>{u(),A(),_(),m(),a()})}c=class{constructor(e,t){this.tocLinks=Array.from(document.querySelectorAll(`${e} a`)),this.headings=Array.from(document.querySelectorAll(`${t} h1[id], ${t} h2[id], ${t} h3[id]`)),this.currentActiveIndex=-1,this.currentActive=null,this.debounceTimeout=null,this.currentlyVisibleHeaderIds=new Set,this.headerOffset=O+10,this.init()}init(){this.setupObserver()}clearActiveClasses(){this.tocLinks.forEach(e=>e.classList.remove("active"))}setActiveLink(e){e!==this.currentActiveIndex&&(this.clearActiveClasses(),this.tocLinks[e]&&(this.tocLinks[e].classList.add("active"),this.currentActiveIndex=e,this.currentActive=this.headings[e]))}setupObserver(){const e=e=>{if(e.forEach(e=>{const t=this.headings.indexOf(e.target),n=e.isIntersecting;n?this.currentlyVisibleHeaderIds.add(t):this.currentlyVisibleHeaderIds.delete(t)}),this.currentlyVisibleHeaderIds.size!==0){let e=Math.min(...Array.from(this.currentlyVisibleHeaderIds));this.setActiveLink(e)}else this.currentActive&&this.currentActive.getBoundingClientRect().top>this.headerOffset&&this.setActiveLink(this.currentActiveIndex-1)},t={root:null,rootMargin:`-${this.headerOffset}px 0px -25% 0px`,threshold:0},n=new IntersectionObserver(e,t);this.headings.forEach(e=>n.observe(e))}},r=c,document.addEventListener("DOMContentLoaded",function(){const a=()=>{window.OneTrust.OnConsentChanged(async()=>{u(),await window.analytics.track("onetrust_consent_preference_updated",{onetrust_active_groups:window.OnetrustActiveGroups??""})}),k(),document.removeEventListener("onetrust_loaded",a)};document.addEventListener("onetrust_loaded",a);const e=document.querySelector(".top-banner");if(e){const t=parseInt(e.getAttribute("data-start")),n=parseInt(e.getAttribute("data-end")),s=Math.floor(Date.now()/1e3);t&&s>t&&(!n||s<n)&&(e.style.display="flex")}const n=document.querySelector("body"),t=document.querySelector(".site-header"),l=e?.offsetHeight??0,d=document.querySelector(".main-menu")?.offsetHeight??0,i=24;let s=window.innerWidth>=1400?i:0;function c(){if(!t)return;t.style.minHeight=`${t.offsetHeight}px`,n.classList.add("scrolled")}function h(){if(!t)return;t.style.minHeight="",n.classList.remove("scrolled")}window.addEventListener("resize",function(){s=window.innerWidth>=f?i:0}),window.scrollY>l+s&&c(),v.onScrollDown(e=>{e>l+s&&c()}),v.onScrollUp(e=>{e<=d&&h()});const m=document.querySelector(".menu-mobile__close"),p=document.querySelector(".main-menu__trigger"),o=document.querySelector(".menu-mobile");p.addEventListener("click",()=>{o.classList.add("menu-mobile--visible"),n.classList.add("no-scroll")}),m.addEventListener("click",()=>{o.classList.remove("menu-mobile--visible"),n.classList.remove("no-scroll")});function g(e){const t=document.querySelector(`[data-path=${e}]`);t&&t.classList.toggle("menu-mobile__item--active")}document.querySelectorAll(".menu-mobile__item").forEach(e=>{e.addEventListener("click",()=>{console.log(e.dataset.path),g(e.dataset.path)})}),window.addEventListener("resize",()=>{window.innerWidth>=f&&o.classList.remove("menu-mobile--visible")}),x("#scrollToTopBtn"),document.getElementById("TableOfContents")&&document.querySelector(".qdrant-post__body")&&new r("#TableOfContents",".qdrant-post__body"),document.querySelectorAll(".card__content-link").forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),t.stopPropagation();const n=e.dataset.href;window.history.pushState({},"",n),window.location.href=n})})})})()